"use strict";(self.webpackChunkObjects_Tracker=self.webpackChunkObjects_Tracker||[]).push([[179],{733:()=>{function le(e){return"function"==typeof e}function Os(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const qc=Os(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function to(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class bt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(le(r))try{r()}catch(o){t=o instanceof qc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Yw(o)}catch(s){t=t??[],s instanceof qc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new qc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Yw(t);else{if(t instanceof bt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&to(n,t)}remove(t){const{_finalizers:n}=this;n&&to(n,t),t instanceof bt&&t._removeParent(this)}}bt.EMPTY=(()=>{const e=new bt;return e.closed=!0,e})();const qw=bt.EMPTY;function Kw(e){return e instanceof bt||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function Yw(e){le(e)?e():e.unsubscribe()}const ai={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kc={setTimeout(e,t,...n){const{delegate:r}=Kc;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Kc;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qw(e){Kc.setTimeout(()=>{const{onUnhandledError:t}=ai;if(!t)throw e;t(e)})}function Pf(){}const mO=xf("C",void 0,void 0);function xf(e,t,n){return{kind:e,value:t,error:n}}let ci=null;function Yc(e){if(ai.useDeprecatedSynchronousErrorHandling){const t=!ci;if(t&&(ci={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else e()}class kf extends bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Kw(t)&&t.add(this)):this.destination=CO}static create(t,n,r){return new Ls(t,n,r)}next(t){this.isStopped?Lf(function yO(e){return xf("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Lf(function _O(e){return xf("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lf(mO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IO=Function.prototype.bind;function Of(e,t){return IO.call(e,t)}class EO{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Qc(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Qc(r)}else Qc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Qc(n)}}}class Ls extends kf{constructor(t,n,r){let i;if(super(),le(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ai.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Of(t.next,o),error:t.error&&Of(t.error,o),complete:t.complete&&Of(t.complete,o)}):i=t}this.destination=new EO(i)}}function Qc(e){ai.useDeprecatedSynchronousErrorHandling?function vO(e){ai.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=e)}(e):Qw(e)}function Lf(e,t){const{onStoppedNotification:n}=ai;n&&Kc.setTimeout(()=>n(e,t))}const CO={closed:!0,next:Pf,error:function wO(e){throw e},complete:Pf},Ff="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(e){return e}function Zw(e){return 0===e.length?Cr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function TO(e){return e&&e instanceof kf||function bO(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}(e)&&Kw(e)}(n)?n:new Ls(n,r,i);return Yc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Jw(r))((i,o)=>{const s=new Ls({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ff](){return this}pipe(...n){return Zw(n)(this)}toPromise(n){return new(n=Jw(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Jw(e){var t;return null!==(t=e??ai.Promise)&&void 0!==t?t:Promise}const SO=Os(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let on=(()=>{class e extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Xw(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new SO}next(n){Yc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Yc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?qw:(this.currentObservers=null,o.push(n),new bt(()=>{this.currentObservers=null,to(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return e.create=(t,n)=>new Xw(t,n),e})();class Xw extends on{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:qw}}function eC(e){return le(e?.lift)}function Ue(e){return t=>{if(eC(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(e,t,n,r,i){return new AO(e,t,n,r,i)}class AO extends kf{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function he(e,t){return Ue((n,r)=>{let i=0;n.subscribe(je(r,o=>{r.next(e.call(t,o,i++))}))})}function $f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Dr(e){return this instanceof Dr?(this.v=e,this):new Dr(e)}function iC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Vf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const oC=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function sC(e){return le(e?.then)}function aC(e){return le(e[Ff])}function cC(e){return Symbol.asyncIterator&&le(e?.[Symbol.asyncIterator])}function uC(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lC=function YO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dC(e){return le(e?.[lC])}function fC(e){return function rC(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){o.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Dr?Promise.resolve(f.value.v).then(u,l):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Dr(n.read());if(i)return yield Dr(void 0);yield yield Dr(r)}}finally{n.releaseLock()}})}function hC(e){return le(e?.getReader)}function zt(e){if(e instanceof Pe)return e;if(null!=e){if(aC(e))return function QO(e){return new Pe(t=>{const n=e[Ff]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(oC(e))return function ZO(e){return new Pe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(sC(e))return function JO(e){return new Pe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qw)})}(e);if(cC(e))return pC(e);if(dC(e))return function XO(e){return new Pe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(hC(e))return function eL(e){return pC(fC(e))}(e)}throw uC(e)}function pC(e){return new Pe(t=>{(function tL(e,t){var n,r,i,o;return function tC(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=iC(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function qn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ye(e,t,n=1/0){return le(t)?Ye((r,i)=>he((o,s)=>t(r,o,i,s))(zt(e(r,i))),n):("number"==typeof t&&(n=t),Ue((r,i)=>function nL(e,t,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&t.complete()},h=m=>u<r?p(m):c.push(m),p=m=>{o&&t.next(m),u++;let y=!1;zt(n(m,l++)).subscribe(je(t,v=>{i?.(v),o?h(v):t.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){const v=c.shift();s?qn(t,s,()=>p(v)):p(v)}f()}catch(v){t.error(v)}}))};return e.subscribe(je(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function no(e=1/0){return Ye(Cr,e)}const En=new Pe(e=>e.complete());function Hf(e){return e[e.length-1]}function Fs(e){return function iL(e){return e&&le(e.schedule)}(Hf(e))?e.pop():void 0}function Zc(e,t=0){return Ue((n,r)=>{n.subscribe(je(r,i=>qn(r,e,()=>r.next(i),t),()=>qn(r,e,()=>r.complete(),t),i=>qn(r,e,()=>r.error(i),t)))})}function Jc(e,t=0){return Ue((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function gC(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pe(n=>{qn(n,t,()=>{const r=e[Symbol.asyncIterator]();qn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qe(e,t){return t?function fL(e,t){if(null!=e){if(aC(e))return function aL(e,t){return zt(e).pipe(Jc(t),Zc(t))}(e,t);if(oC(e))return function uL(e,t){return new Pe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(sC(e))return function cL(e,t){return zt(e).pipe(Jc(t),Zc(t))}(e,t);if(cC(e))return gC(e,t);if(dC(e))return function lL(e,t){return new Pe(n=>{let r;return qn(n,t,()=>{r=e[lC](),qn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}(e,t);if(hC(e))return function dL(e,t){return gC(fC(e),t)}(e,t)}throw uC(e)}(e,t):zt(e)}class Wt extends on{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function F(...e){return Qe(e,Fs(e))}function mC(e={}){const{connector:t=(()=>new on),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,l=d=!1},p=()=>{const m=s;h(),m?.unsubscribe()};return Ue((m,y)=>{u++,!d&&!l&&f();const v=c=c??t();y.add(()=>{u--,0===u&&!d&&!l&&(a=zf(p,i))}),v.subscribe(y),!s&&u>0&&(s=new Ls({next:_=>v.next(_),error:_=>{d=!0,f(),a=zf(h,n,_),v.error(_)},complete:()=>{l=!0,f(),a=zf(h,r),v.complete()}}),zt(m).subscribe(s))})(o)}}function zf(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ls({next:()=>{r.unsubscribe(),e()}});return zt(t(...n)).subscribe(r)}function wn(e,t){return Ue((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(je(r,c=>{i?.unsubscribe();let u=0;const l=o++;zt(e(c,l)).subscribe(i=je(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gL(e,t){return e===t}function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function $e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Wf(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const mL=ae({__forward_ref__:ae});function Gf(e){return e.__forward_ref__=Gf,e.toString=function(){return $e(this())},e}function L(e){return qf(e)?e():e}function qf(e){return"function"==typeof e&&e.hasOwnProperty(mL)&&e.__forward_ref__===Gf}function Kf(e){return e&&!!e.\u0275providers}class E extends Error{constructor(t,n){super(function eu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function U(e){return"string"==typeof e?e:null==e?"":String(e)}function Yf(e,t){throw new E(-201,!1)}function Gt(e,t){null==e&&function k(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function sn(e){return{providers:e.providers||[],imports:e.imports||[]}}function tu(e){return yC(e,ru)||yC(e,vC)}function yC(e,t){return e.hasOwnProperty(t)?e[t]:null}function nu(e){return e&&(e.hasOwnProperty(Qf)||e.hasOwnProperty(DL))?e[Qf]:null}const ru=ae({\u0275prov:ae}),Qf=ae({\u0275inj:ae}),vC=ae({ngInjectableDef:ae}),DL=ae({ngInjectorDef:ae});var K=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(K||{});let Zf;function Tt(e){const t=Zf;return Zf=e,t}function EC(e,t,n){const r=tu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==t?t:void Yf($e(e))}const pe=globalThis,Us={},nh="__NG_DI_FLAG__",iu="ngTempTokenPath",SL=/\n/gm,CC="__source";let ro;function br(e){const t=ro;return ro=e,t}function RL(e,t=K.Default){if(void 0===ro)throw new E(-203,!1);return null===ro?EC(e,void 0,t):ro.get(e,t&K.Optional?null:void 0,t)}function N(e,t=K.Default){return(function IC(){return Zf}()||RL)(L(e),t)}function S(e,t=K.Default){return N(e,ou(t))}function ou(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rh(e){const t=[];for(let n=0;n<e.length;n++){const r=L(e[n]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){const a=r[s],c=NL(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function js(e,t){return e[nh]=t,e.prototype[nh]=t,e}function NL(e){return e[nh]}function Kn(e){return{toString:e}.toString()}var su=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(su||{}),an=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(an||{});const Cn={},X=[],au=ae({\u0275cmp:ae}),ih=ae({\u0275dir:ae}),oh=ae({\u0275pipe:ae}),bC=ae({\u0275mod:ae}),Yn=ae({\u0275fac:ae}),$s=ae({__NG_ELEMENT_ID__:ae}),TC=ae({__NG_ENV_ID__:ae});function SC(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function sh(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];MC(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function AC(e){return 3===e||4===e||6===e}function MC(e){return 64===e.charCodeAt(0)}function Bs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||RC(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function RC(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const NC="ng-template";function kL(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==SC(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function PC(e){return 4===e.type&&e.value!==NC}function OL(e,t,n){return t===(4!==e.type||n?e.value:NC)}function LL(e,t,n){let r=4;const i=e.attrs||[],o=function jL(e){for(let t=0;t<e.length;t++)if(AC(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!OL(e,c,n)||""===c&&1===t.length){if(cn(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!kL(e.attrs,u,n)){if(cn(r))return!1;s=!0}continue}const d=FL(8&r?"class":c,i,PC(e),n);if(-1===d){if(cn(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==SC(h,u,0)||2&r&&u!==f){if(cn(r))return!1;s=!0}}}}else{if(!s&&!cn(r)&&!cn(c))return!1;if(s&&cn(c))continue;s=!1,r=c|1&r}}return cn(r)||s}function cn(e){return 0==(1&e)}function FL(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function $L(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function xC(e,t,n=!1){for(let r=0;r<t.length;r++)if(LL(e,t[r],n))return!0;return!1}function kC(e,t){return e?":not("+t.trim()+")":t}function VL(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!cn(s)&&(t+=kC(o,i),i=""),r=s,o=o||!cn(r);n++}return""!==i&&(t+=kC(o,i)),t}function ah(e){return Kn(()=>{const t=LC(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===su.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||an.Emulated,styles:e.styles||X,_:null,schemas:e.schemas||null,tView:null,id:""};FC(n);const r=e.dependencies;return n.directiveDefs=cu(r,!1),n.pipeDefs=cu(r,!0),n.id=function QL(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function GL(e){return Q(e)||Ze(e)}function qL(e){return null!==e}function Dn(e){return Kn(()=>({type:e.type,bootstrap:e.bootstrap||X,declarations:e.declarations||X,imports:e.imports||X,exports:e.exports||X,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function OC(e,t){if(null==e)return Cn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function lt(e){return Kn(()=>{const t=LC(e);return FC(t),t})}function Q(e){return e[au]||null}function Ze(e){return e[ih]||null}function dt(e){return e[oh]||null}function Ft(e,t){const n=e[bC]||null;if(!n&&!0===t)throw new Error(`Type ${$e(e)} does not have '\u0275mod' property.`);return n}function LC(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Cn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||X,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OC(e.inputs,t),outputs:OC(e.outputs)}}function FC(e){e.features?.forEach(t=>t(e))}function cu(e,t){if(!e)return null;const n=t?dt:GL;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(qL)}const Se=0,b=1,B=2,we=3,un=4,Vs=5,ot=6,oo=7,xe=8,Tr=9,so=10,j=11,Hs=12,UC=13,ao=14,ke=15,zs=16,co=17,bn=18,Ws=19,jC=20,Sr=21,Qn=22,Gs=23,qs=24,Y=25,ch=1,$C=2,Tn=7,uo=9,Je=11;function At(e){return Array.isArray(e)&&"object"==typeof e[ch]}function ft(e){return Array.isArray(e)&&!0===e[ch]}function uh(e){return 0!=(4&e.flags)}function li(e){return e.componentOffset>-1}function lu(e){return 1==(1&e.flags)}function ln(e){return!!e.template}function lh(e){return 0!=(512&e[B])}function di(e,t){return e.hasOwnProperty(Yn)?e[Yn]:null}let Xe=null,du=!1;function qt(e){const t=Xe;return Xe=e,t}const HC={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function WC(e){if(!Ys(e)||e.dirty){if(!e.producerMustRecompute(e)&&!KC(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function qC(e){e.dirty=!0,function GC(e){if(void 0===e.liveConsumerNode)return;const t=du;du=!0;try{for(const n of e.liveConsumerNode)n.dirty||qC(n)}finally{du=t}}(e),e.consumerMarkedDirty?.(e)}function fh(e){return e&&(e.nextProducerIndex=0),qt(e)}function hh(e,t){if(qt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ys(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)fu(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function KC(e){lo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(WC(n),r!==n.version))return!0}return!1}function YC(e){if(lo(e),Ys(e))for(let t=0;t<e.producerNode.length;t++)fu(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function fu(e,t){if(function ZC(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),lo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)fu(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];lo(i),i.producerIndexOfThis[r]=t}}function Ys(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function lo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let JC=null;const nD=()=>{},uF=(()=>({...HC,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:nD}))();class lF{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fi(){return rD}function rD(e){return e.type.prototype.ngOnChanges&&(e.setInput=fF),dF}function dF(){const e=oD(this),t=e?.current;if(t){const n=e.previous;if(n===Cn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function fF(e,t,n,r){const i=this.declaredInputs[n],o=oD(e)||function hF(e,t){return e[iD]=t}(e,{previous:Cn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new lF(c&&c.currentValue,t,a===Cn),e[r]=t}fi.ngInherit=!0;const iD="__ngSimpleChanges__";function oD(e){return e[iD]||null}const Sn=function(e,t,n){};function ge(e){for(;Array.isArray(e);)e=e[Se];return e}function Mt(e,t){return ge(t[e.index])}function cD(e,t){return e.data[t]}function Ut(e,t){const n=t[e];return At(n)?n:n[Se]}function Mr(e,t){return null==t?null:e[t]}function uD(e){e[co]=0}function vF(e){1024&e[B]||(e[B]|=1024,dD(e,1))}function lD(e){1024&e[B]&&(e[B]&=-1025,dD(e,-1))}function dD(e,t){let n=e[we];if(null===n)return;n[Vs]+=t;let r=n;for(n=n[we];null!==n&&(1===t&&1===r[Vs]||-1===t&&0===r[Vs]);)n[Vs]+=t,r=n,n=n[we]}const O={lFrame:wD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pD(){return O.bindingsEnabled}function I(){return O.lFrame.lView}function Z(){return O.lFrame.tView}function hi(e){return O.lFrame.contextLView=e,e[xe]}function pi(e){return O.lFrame.contextLView=null,e}function et(){let e=gD();for(;null!==e&&64===e.type;)e=e.parent;return e}function gD(){return O.lFrame.currentTNode}function An(e,t){const n=O.lFrame;n.currentTNode=e,n.isParent=t}function yh(){return O.lFrame.isParent}function po(){return O.lFrame.bindingIndex++}function NF(e,t){const n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ih(t)}function Ih(e){O.lFrame.currentDirectiveIndex=e}function wh(e){O.lFrame.currentQueryIndex=e}function xF(e){const t=e[b];return 2===t.type?t.declTNode:1===t.type?e[ot]:null}function ID(e,t,n){if(n&K.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&K.Host||(i=xF(o),null===i||(o=o[ao],10&i.type))););if(null===i)return!1;t=i,e=o}const r=O.lFrame=ED();return r.currentTNode=t,r.lView=e,!0}function Ch(e){const t=ED(),n=e[b];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ED(){const e=O.lFrame,t=null===e?null:e.child;return null===t?wD(e):t}function wD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function CD(){const e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const DD=CD;function Dh(){const e=CD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pt(){return O.lFrame.selectedIndex}function gi(e){O.lFrame.selectedIndex=e}function Ie(){O.lFrame.currentNamespace="svg"}function Ee(){!function FF(){O.lFrame.currentNamespace=null}()}let TD=!0;function pu(){return TD}function Rr(e){TD=e}function gu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=l&&(e.destroyHooks??=[]).push(n,l)}}function mu(e,t,n){SD(e,t,3,n)}function _u(e,t,n,r){(3&e[B])===n&&SD(e,t,n,r)}function bh(e,t){let n=e[B];(3&n)===t&&(n&=8191,n+=1,e[B]=n)}function SD(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[co]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[co]+=65536),(a<o||-1==o)&&(jF(e,n,t,c),e[co]=(4294901760&e[co])+c+2),c++}function AD(e,t){Sn(4,e,t);const n=qt(null);try{t.call(e)}finally{qt(n),Sn(5,e,t)}}function jF(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[B]>>13<e[co]>>16&&(3&e[B])===t&&(e[B]+=8192,AD(a,o)):AD(a,o)}const go=-1;class Zs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Sh(e){return e!==go}function Js(e){return 32767&e}function Xs(e,t){let n=function HF(e){return e>>16}(e),r=t;for(;n>0;)r=r[ao],n--;return r}let Ah=!0;function yu(e){const t=Ah;return Ah=e,t}const MD=255,RD=5;let zF=0;const Mn={};function vu(e,t){const n=ND(e,t);if(-1!==n)return n;const r=t[b];r.firstCreatePass&&(e.injectorIndex=t.length,Mh(r.data,e),Mh(t,null),Mh(r.blueprint,null));const i=Iu(e,t),o=e.injectorIndex;if(Sh(i)){const s=Js(i),a=Xs(i,t),c=a[b].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function Mh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ND(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Iu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=jD(i),null===r)return go;if(n++,i=i[ao],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return go}function Rh(e,t,n){!function WF(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($s)&&(r=n[$s]),null==r&&(r=n[$s]=zF++);const i=r&MD;t.data[e+(i>>RD)]|=1<<i}(e,t,n)}function PD(e,t,n){if(n&K.Optional||void 0!==e)return e;Yf()}function xD(e,t,n,r){if(n&K.Optional&&void 0===r&&(r=null),!(n&(K.Self|K.Host))){const i=e[Tr],o=Tt(void 0);try{return i?i.get(t,r,n&K.Optional):EC(t,r,n&K.Optional)}finally{Tt(o)}}return PD(r,0,n)}function kD(e,t,n,r=K.Default,i){if(null!==e){if(2048&t[B]&&!(r&K.Self)){const s=function ZF(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[B]&&!(512&s[B]);){const a=OD(o,s,n,r|K.Self,Mn);if(a!==Mn)return a;let c=o.parent;if(!c){const u=s[jC];if(u){const l=u.get(n,Mn,r);if(l!==Mn)return l}c=jD(s),s=s[ao]}o=c}return i}(e,t,n,r,Mn);if(s!==Mn)return s}const o=OD(e,t,n,r,Mn);if(o!==Mn)return o}return xD(t,n,r,i)}function OD(e,t,n,r,i){const o=function KF(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty($s)?e[$s]:void 0;return"number"==typeof t?t>=0?t&MD:QF:t}(n);if("function"==typeof o){if(!ID(t,e,r))return r&K.Host?PD(i,0,r):xD(t,n,r,i);try{let s;if(s=o(r),null!=s||r&K.Optional)return s;Yf()}finally{DD()}}else if("number"==typeof o){let s=null,a=ND(e,t),c=go,u=r&K.Host?t[ke][ot]:null;for((-1===a||r&K.SkipSelf)&&(c=-1===a?Iu(e,t):t[a+8],c!==go&&FD(r,!1)?(s=t[b],a=Js(c),t=Xs(c,t)):a=-1);-1!==a;){const l=t[b];if(LD(o,a,l.data)){const d=qF(a,t,n,s,r,u);if(d!==Mn)return d}c=t[a+8],c!==go&&FD(r,t[b].data[a+8]===u)&&LD(o,a,t)?(s=l,a=Js(c),t=Xs(c,t)):a=-1}}return i}function qF(e,t,n,r,i,o){const s=t[b],a=s.data[e+8],l=function Eu(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,f=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=s[c];if(h&&ln(h)&&h.type===n)return c}return null}(a,s,n,null==r?li(a)&&Ah:r!=s&&0!=(3&a.type),i&K.Host&&o===a);return null!==l?mi(t,s,l,a):Mn}function mi(e,t,n,r){let i=e[n];const o=t.data;if(function $F(e){return e instanceof Zs}(i)){const s=i;s.resolving&&function _L(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new E(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():U(e)}(o[n]));const a=yu(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Tt(s.injectImpl):null;ID(e,r,K.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function UF(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=rD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&Tt(u),yu(a),s.resolving=!1,DD()}}return i}function LD(e,t,n){return!!(n[t+(e>>RD)]&1<<e)}function FD(e,t){return!(e&K.Self||e&K.Host&&t)}class gt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return kD(this._tNode,this._lView,t,ou(r),n)}}function QF(){return new gt(et(),I())}function Nh(e){return qf(e)?()=>{const t=Nh(L(e));return t&&t()}:di(e)}function jD(e){const t=e[b],n=t.type;return 2===n?t.declTNode:1===n?e[ot]:null}const _o="__parameters__";function vo(e,t,n){return Kn(()=>{const r=function Ph(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(_o)?c[_o]:Object.defineProperty(c,_o,{value:[]})[_o];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Eo(e,t){e.forEach(n=>Array.isArray(n)?Eo(n,t):t(n))}function BD(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Cu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const mt=js(vo("Optional"),8),bu=js(vo("SkipSelf"),4);function Ru(e){return 128==(128&e.flags)}var Nr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nr||{});const Uh=new Map;let A2=0;const $h="__ngContext__";function st(e,t){At(t)?(e[$h]=t[Ws],function R2(e){Uh.set(e[Ws],e)}(t)):e[$h]=t}let Bh;function Vh(e,t){return Bh(e,t)}function oa(e){const t=e[we];return ft(t)?t[we]:t}function cb(e){return lb(e[Hs])}function ub(e){return lb(e[un])}function lb(e){for(;null!==e&&!ft(e);)e=e[un];return e}function bo(e,t,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:At(r)&&(s=!0,r=r[Se]);const a=ge(r);0===e&&null!==n?null==i?pb(t,n,a):_i(t,n,a,i||null,!0):1===e&&null!==n?_i(t,n,a,i||null,!0):2===e?function Fu(e,t,n){const r=Ou(e,t);r&&function Y2(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function J2(e,t,n,r,i){const o=n[Tn];o!==ge(n)&&bo(t,e,r,o,i);for(let a=Je;a<n.length;a++){const c=n[a];aa(c[b],c,e,t,r,o)}}(t,e,o,n,i)}}function xu(e,t,n){return e.createElement(t,n)}function fb(e,t){const n=e[uo],r=n.indexOf(t);lD(t),n.splice(r,1)}function ku(e,t){if(e.length<=Je)return;const n=Je+t,r=e[n];if(r){const i=r[zs];null!==i&&i!==e&&fb(i,r),t>0&&(e[n-1][un]=r[un]);const o=Cu(e,Je+t);!function B2(e,t){aa(e,t,t[j],2,null,null),t[Se]=null,t[ot]=null}(r[b],r);const s=o[bn];null!==s&&s.detachView(o[b]),r[we]=null,r[un]=null,r[B]&=-129}return r}function zh(e,t){if(!(256&t[B])){const n=t[j];t[Gs]&&YC(t[Gs]),t[qs]&&YC(t[qs]),n.destroyNode&&aa(e,t,n,3,null,null),function z2(e){let t=e[Hs];if(!t)return Wh(e[b],e);for(;t;){let n=null;if(At(t))n=t[Hs];else{const r=t[Je];r&&(n=r)}if(!n){for(;t&&!t[un]&&t!==e;)At(t)&&Wh(t[b],t),t=t[we];null===t&&(t=e),At(t)&&Wh(t[b],t),n=t&&t[un]}t=n}}(t)}}function Wh(e,t){if(!(256&t[B])){t[B]&=-129,t[B]|=256,function K2(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Zs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Sn(4,a,c);try{c.call(a)}finally{Sn(5,a,c)}}else{Sn(4,i,o);try{o.call(i)}finally{Sn(5,i,o)}}}}}(e,t),function q2(e,t){const n=e.cleanup,r=t[oo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[oo]=null);const i=t[Sr];if(null!==i){t[Sr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[b].type&&t[j].destroy();const n=t[zs];if(null!==n&&ft(t[we])){n!==t[we]&&fb(n,t);const r=t[bn];null!==r&&r.detachView(e)}!function N2(e){Uh.delete(e[Ws])}(t)}}function Gh(e,t,n){return function hb(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Se];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===an.None||o===an.Emulated)return null}return Mt(r,n)}}(e,t.parent,n)}function _i(e,t,n,r,i){e.insertBefore(t,n,r,i)}function pb(e,t,n){e.appendChild(t,n)}function gb(e,t,n,r,i){null!==r?_i(e,t,n,r,i):pb(e,t,n)}function Ou(e,t){return e.parentNode(t)}let qh,Zh,yb=function _b(e,t,n){return 40&e.type?Mt(e,n):null};function Lu(e,t,n,r){const i=Gh(e,r,t),o=t[j],a=function mb(e,t,n){return yb(e,t,n)}(r.parent||t[ot],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)gb(o,i,n[c],a,!1);else gb(o,i,n,a,!1);void 0!==qh&&qh(o,r,t,n,i)}function sa(e,t){if(null!==t){const n=t.type;if(3&n)return Mt(t,e);if(4&n)return Kh(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return sa(e,r);{const i=e[t.index];return ft(i)?Kh(-1,i):ge(i)}}if(32&n)return Vh(t,e)()||ge(e[t.index]);{const r=Ib(e,t);return null!==r?Array.isArray(r)?r[0]:sa(oa(e[ke]),r):sa(e,t.next)}}return null}function Ib(e,t){return null!==t?e[ke][ot].projection[t.projection]:null}function Kh(e,t){const n=Je+e+1;if(n<t.length){const r=t[n],i=r[b].firstChild;if(null!==i)return sa(r,i)}return t[Tn]}function Yh(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&st(ge(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Yh(e,t,n.child,r,i,o,!1),bo(t,e,i,a,o);else if(32&c){const u=Vh(n,r);let l;for(;l=u();)bo(t,e,i,l,o);bo(t,e,i,a,o)}else 16&c?wb(e,t,r,n,i,o):bo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function aa(e,t,n,r,i,o){Yh(n,r,e.firstChild,t,i,o,!1)}function wb(e,t,n,r,i,o){const s=n[ke],c=s[ot].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)bo(t,e,i,c[u],o);else{let u=c;const l=s[we];Ru(r)&&(u.flags|=128),Yh(e,t,u,l,i,o,!0)}}function Cb(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Db(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&sh(e,t,r),null!==i&&Cb(e,t,i),null!==o&&function eU(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class M{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const da=new M("ENVIRONMENT_INITIALIZER"),Ub=new M("INJECTOR",-1),jb=new M("INJECTOR_DEF_TYPES");class rp{get(t,n=Us){if(n===Us){const r=new Error(`NullInjectorError: No provider for ${$e(t)}!`);throw r.name="NullInjectorError",r}return n}}function SU(...e){return{\u0275providers:Bb(0,e),\u0275fromNgModule:!0}}function Bb(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Eo(t,s=>{const a=s;Bu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Vb(i,o),n}function Vb(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];ip(i,o=>{t(o,r)})}}function Bu(e,t,n,r){if(!(e=L(e)))return!1;let i=null,o=nu(e);const s=!o&&Q(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=nu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Bu(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Eo(o.imports,l=>{Bu(l,t,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&Vb(u,t)}if(!a){const u=di(i)||(()=>new i);t({provide:i,useFactory:u,deps:X},i),t({provide:jb,useValue:i,multi:!0},i),t({provide:da,useValue:()=>N(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;ip(c,l=>{t(l,u)})}}}return i!==e&&void 0!==e.providers}function ip(e,t){for(let n of e)Kf(n)&&(n=n.\u0275providers),Array.isArray(n)?ip(n,t):t(n)}const AU=ae({provide:String,useValue:ae});function op(e){return null!==e&&"object"==typeof e&&AU in e}function yi(e){return"function"==typeof e}const sp=new M("Set Injector scope."),Vu={},RU={};let ap;function Hu(){return void 0===ap&&(ap=new rp),ap}class Yt{}class zu extends Yt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,up(t,s=>this.processProvider(s)),this.records.set(Ub,Mo(void 0,this)),i.has("environment")&&this.records.set(Yt,Mo(void 0,this));const o=this.records.get(sp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jb.multi,X,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=br(this),r=Tt(void 0);try{return t()}finally{br(n),Tt(r)}}get(t,n=Us,r=K.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(TC))return t[TC](this);r=ou(r);const o=br(this),s=Tt(void 0);try{if(!(r&K.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function OU(e){return"function"==typeof e||"object"==typeof e&&e instanceof M}(t)&&tu(t);c=u&&this.injectableDefInScope(u)?Mo(cp(t),Vu):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&K.Self?Hu():this.parent).get(t,n=r&K.Optional&&n===Us?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[iu]=a[iu]||[]).unshift($e(t)),o)throw a;return function PL(e,t,n,r){const i=e[iu];throw t[CC]&&i.unshift(t[CC]),e.message=function xL(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=$e(t);if(Array.isArray(t))i=t.map($e).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):$e(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(SL,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[iu]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Tt(s),br(o)}}resolveInjectorInitializers(){const t=br(this),n=Tt(void 0);try{const i=this.get(da.multi,X,K.Self);for(const o of i)o()}finally{br(t),Tt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push($e(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let n=yi(t=L(t))?t:L(t&&t.provide);const r=function PU(e){return op(e)?Mo(void 0,e.useValue):Mo(function Wb(e,t,n){let r;if(yi(e)){const i=L(e);return di(i)||cp(i)}if(op(e))r=()=>L(e.useValue);else if(function zb(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...rh(e.deps||[]));else if(function Hb(e){return!(!e||!e.useExisting)}(e))r=()=>N(L(e.useExisting));else{const i=L(e&&(e.useClass||e.provide));if(!function xU(e){return!!e.deps}(e))return di(i)||cp(i);r=()=>new i(...rh(e.deps))}return r}(e),Vu)}(t);if(yi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Mo(void 0,Vu,!0),i.factory=()=>rh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Vu&&(n.value=RU,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kU(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=L(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function cp(e){const t=tu(e),n=null!==t?t.factory:di(e);if(null!==n)return n;if(e instanceof M)throw new E(204,!1);if(e instanceof Function)return function NU(e){const t=e.length;if(t>0)throw function na(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new E(204,!1);const n=function CL(e){return e&&(e[ru]||e[vC])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new E(204,!1)}function Mo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function up(e,t){for(const n of e)Array.isArray(n)?up(n,t):n&&Kf(n)?up(n.\u0275providers,t):t(n)}const Wu=new M("AppId",{providedIn:"root",factory:()=>LU}),LU="ng",Gb=new M("Platform Initializer"),xr=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qb=new M("CSP nonce",{providedIn:"root",factory:()=>function So(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kb=(e,t,n)=>null;function _p(e,t,n=!1){return Kb(e,t,n)}class GU{}class Zb{}class KU{resolveComponentFactory(t){throw function qU(e){const t=Error(`No component factory found for ${$e(e)}.`);return t.ngComponent=e,t}(t)}}let Zu=(()=>{class e{static#e=this.NULL=new KU}return e})();function YU(){return Po(et(),I())}function Po(e,t){return new kr(Mt(e,t))}let kr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=YU}return e})();class Xb{}let JU=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>null})}return e})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const e0=new pa("16.2.7"),Ip={};function o0(e,t=null,n=null,r){const i=s0(e,t,n,r);return i.resolveInjectorInitializers(),i}function s0(e,t=null,n=null,r,i=new Set){const o=[n||X,SU(e)];return r=r||("object"==typeof e?void 0:$e(e)),new zu(o,t||Hu(),r||null,i)}let _t=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Us;static#t=this.NULL=new rp;static create(n,r){if(Array.isArray(n))return o0({name:""},r,n,"");{const i=n.name??"";return o0({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=P({token:e,providedIn:"any",factory:()=>N(Ub)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function wp(e){return e.ngOriginalError}class er{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&wp(t);for(;n&&wp(n);)n=wp(n);return n||null}}function Dp(e){return t=>{setTimeout(e,void 0,t)}}const yt=class o3 extends on{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Dp(o),i&&(i=Dp(i)),s&&(s=Dp(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof bt&&t.add(a),a}};function c0(...e){}class oe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function s3(){const e="function"==typeof pe.requestAnimationFrame;let t=pe[e?"requestAnimationFrame":"setTimeout"],n=pe[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function u3(e){const t=()=>{!function c3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Tp(e),e.isCheckStableRunning=!0,bp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Tp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function d3(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return u0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),l0(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return u0(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),l0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Tp(e),bp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oe.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(oe.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,a3,c0,c0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const a3={};function bp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function u0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function l0(e){e._nesting--,bp(e)}class l3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const d0=new M("",{providedIn:"root",factory:f0});function f0(){const e=S(oe);let t=!0;return function hL(...e){const t=Fs(e),n=function sL(e,t){return"number"==typeof Hf(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?zt(r[0]):no(n)(Qe(r,t)):En}(new Pe(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Pe(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{oe.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(mC()))}function tr(e){return e instanceof Function?e():e}let Sp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();function ga(e){for(;e;){e[B]|=64;const t=oa(e);if(lh(e)&&!t)return e;e=t}return null}const _0=new M("",{providedIn:"root",factory:()=>!1});let el=null;function E0(e,t){return e[t]??D0()}function w0(e,t){const n=D0();n.producerNode?.length&&(e[t]=el,n.lView=e,el=C0())}const E3={...HC,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ga(e.lView)},lView:null};function C0(){return Object.create(E3)}function D0(){return el??=C0(),el}const $={};function Or(e){b0(Z(),I(),pt()+e,!1)}function b0(e,t,n,r){if(!r)if(3==(3&t[B])){const o=e.preOrderCheckHooks;null!==o&&mu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&_u(t,o,0,n)}gi(n)}function x(e,t=K.Default){const n=I();return null===n?N(e,t):kD(et(),n,L(e),t)}function tl(e,t,n,r,i,o,s,a,c,u,l){const d=t.blueprint.slice();return d[Se]=i,d[B]=140|r,(null!==u||e&&2048&e[B])&&(d[B]|=2048),uD(d),d[we]=d[ao]=e,d[xe]=n,d[so]=s||e&&e[so],d[j]=a||e&&e[j],d[Tr]=c||e&&e[Tr]||null,d[ot]=o,d[Ws]=function M2(){return A2++}(),d[Qn]=l,d[jC]=u,d[ke]=2==t.type?e[ke]:d,d}function Oo(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Ap(e,t,n,r,i){const o=gD(),s=yh(),c=e.data[t]=function M3(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function ho(){return null!==O.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function RF(){return O.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Qs(){const e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return An(o,!0),o}function ma(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function S0(e,t,n,r,i){const o=E0(t,Gs),s=pt(),a=2&r;try{gi(-1),a&&t.length>Y&&b0(e,t,Y,!1),Sn(a?2:0,i);const u=a?o:null,l=fh(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{hh(u,l)}}finally{a&&null===t[Gs]&&w0(t,Gs),gi(s),Sn(a?3:1,i)}}function Mp(e,t,n){if(uh(t)){const r=qt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{qt(r)}}}function Rp(e,t,n){pD()&&(function L3(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;li(n)&&function H3(e,t,n){const r=Mt(t,e),i=A0(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=nl(e,tl(e,i,null,s,r,t,null,e[so].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||vu(n,t),st(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=mi(t,e,a,n);st(u,t),null!==s&&z3(0,a-i,u,c,0,s),ln(c)&&(Ut(n.index,t)[xe]=mi(t,e,a,n))}}(e,t,n,Mt(n,t)),64==(64&n.flags)&&x0(e,t,n))}function Np(e,t,n=Mt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function A0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pp(e,t,n,r,i,o,s,a,c,u,l){const d=Y+r,f=d+i,h=function C3(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:$);return n}(d,f),p="function"==typeof u?u():u;return h[b]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let M0=e=>null;function R0(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?N0(n,t,i,o):r.hasOwnProperty(i)&&N0(n,t,r[i],o)}return n}function N0(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function xp(e,t,n,r){if(pD()){const i=null===r?null:{"":-1},o=function U3(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(xC(t,s.selectors,!1))if(r||(r=[]),ln(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),kp(e,t,a.length)}else r.unshift(s),kp(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&P0(e,t,n,s,i,a),i&&function j3(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new E(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Bs(n.mergedAttrs,n.attrs)}function P0(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Rh(vu(n,t),e,r[u].type);!function B3(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ma(e,t,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Bs(n.mergedAttrs,l.hostAttrs),V3(e,n,t,c,l),$3(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function R3(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,u=null;for(let l=t.directiveStart;l<i;l++){const d=o[l],f=n?n.get(d):null,p=f?f.outputs:null;c=R0(d.inputs,l,c,f?f.inputs:null),u=R0(d.outputs,l,u,p);const m=null===c||null===s||PC(t)?null:W3(c,l,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,o)}function x0(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function PF(){return O.lFrame.currentDirectiveIndex}();try{gi(o);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Ih(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&F3(c,u)}}finally{gi(-1),Ih(s)}}function F3(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kp(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function $3(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ln(t)&&(n[""]=e)}}function V3(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=di(i.type)),s=new Zs(o,ln(i),x);e.blueprint[r]=s,n[r]=s,function k3(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function O3(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,ma(e,n,i.hostVars,$),i)}function z3(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)k0(r,n,s[a++],s[a++],s[a++])}function k0(e,t,n,r,i){const o=qt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{qt(o)}}function W3(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function O0(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function L0(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];wh(n[r]),s.contentQueries(2,t[o],o)}}}function nl(e,t){return e[Hs]?e[UC][un]=t:e[Hs]=t,e[UC]=t,t}function Lp(e,t,n){wh(0);const r=qt(null);try{t(e,n)}finally{qt(r)}}function $0(e,t){const n=e[Tr],r=n?n.get(er,null):null;r&&r.handleError(t)}function Fp(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];k0(e.data[s],t[s],r,a,i)}}function nr(e,t,n){const r=function hu(e,t){return ge(t[e])}(t,e);!function db(e,t,n){e.setValue(t,n)}(e[j],r,n)}function G3(e,t){const n=Ut(t,e),r=n[b];!function q3(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Se];null!==i&&null===n[Qn]&&(n[Qn]=_p(i,n[Tr])),Up(r,n,n[xe])}function Up(e,t,n){Ch(t);try{const r=e.viewQuery;null!==r&&Lp(1,r,n);const i=e.template;null!==i&&S0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&L0(e,t),e.staticViewQueries&&Lp(2,e.viewQuery,n);const o=e.components;null!==o&&function K3(e,t){for(let n=0;n<t.length;n++)G3(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[B]&=-5,Dh()}}let B0=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function cF(e,t,n){const r=Object.create(uF);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>qC(r),run:()=>{if(r.dirty=!1,r.hasRun&&!KC(r))return;r.hasRun=!0;const s=fh(r);try{r.cleanupFn(),r.cleanupFn=nD,r.fn(i)}finally{hh(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();function rl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Wf(i,a):2==o&&(r=Wf(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function _a(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(ge(o)),ft(o)&&V0(o,r);const s=n.type;if(8&s)_a(e,t,n.child,r);else if(32&s){const a=Vh(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Ib(t,n);if(Array.isArray(a))r.push(...a);else{const c=oa(t[ke]);_a(c[b],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function V0(e,t){for(let n=Je;n<e.length;n++){const r=e[n],i=r[b].firstChild;null!==i&&_a(r[b],r,i,t)}e[Tn]!==e[Se]&&t.push(e[Tn])}function il(e,t,n,r=!0){const i=t[so],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{H0(e,t,e.template,n)}catch(c){throw r&&$0(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function H0(e,t,n,r){const i=t[B];if(256!=(256&i)){t[so].effectManager?.flush(),Ch(t);try{uD(t),function _D(e){return O.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&S0(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&mu(t,u,null)}else{const u=e.preOrderHooks;null!==u&&_u(t,u,0,null),bh(t,0)}if(function Z3(e){for(let t=cb(e);null!==t;t=ub(t)){if(!t[$C])continue;const n=t[uo];for(let r=0;r<n.length;r++){vF(n[r])}}}(t),z0(t,2),null!==e.contentQueries&&L0(e,t),s){const u=e.contentCheckHooks;null!==u&&mu(t,u)}else{const u=e.contentHooks;null!==u&&_u(t,u,1),bh(t,1)}!function w3(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=E0(t,qs);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)gi(~o);else{const s=o,a=n[++i],c=n[++i];NF(a,s),r.dirty=!1;const u=fh(r);try{c(2,t[s])}finally{hh(r,u)}}}}finally{null===t[qs]&&w0(t,qs),gi(-1)}}(e,t);const a=e.components;null!==a&&G0(t,a,0);const c=e.viewQuery;if(null!==c&&Lp(2,c,r),s){const u=e.viewCheckHooks;null!==u&&mu(t,u)}else{const u=e.viewHooks;null!==u&&_u(t,u,2),bh(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[B]&=-73,lD(t)}finally{Dh()}}}function z0(e,t){for(let n=cb(e);null!==n;n=ub(n))for(let r=Je;r<n.length;r++)W0(n[r],t)}function J3(e,t,n){W0(Ut(t,e),n)}function W0(e,t){if(!function _F(e){return 128==(128&e[B])}(e))return;const n=e[b],r=e[B];if(80&r&&0===t||1024&r||2===t)H0(n,e,n.template,e[xe]);else if(e[Vs]>0){z0(e,1);const i=n.components;null!==i&&G0(e,i,1)}}function G0(e,t,n){for(let r=0;r<t.length;r++)J3(e,t[r],n)}class ya{get rootNodes(){const t=this._lView,n=t[b];return _a(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xe]}set context(t){this._lView[xe]=t}get destroyed(){return 256==(256&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[we];if(ft(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ku(t,r),Cu(n,r))}this._attachedToViewContainer=!1}zh(this._lView[b],this._lView)}onDestroy(t){!function fD(e,t){if(256==(256&e[B]))throw new E(911,!1);null===e[Sr]&&(e[Sr]=[]),e[Sr].push(t)}(this._lView,t)}markForCheck(){ga(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){this._lView[B]|=128}detectChanges(){il(this._lView[b],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function H2(e,t){aa(e,t,t[j],2,null,null)}(this._lView[b],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t}}class X3 extends ya{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;il(t[b],t,t[xe],!1)}checkNoChanges(){}get context(){return null}}class q0 extends Zu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Q(t);return new va(n,this.ngModule)}}function K0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tj{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ou(r);const i=this.injector.get(t,Ip,r);return i!==Ip||n===Ip?i:this.parentInjector.get(t,n,r)}}class va extends Zb{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=K0(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return K0(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function HL(e){return e.map(VL).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Yt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new tj(t,o):t,a=s.get(Xb,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(JU,null),effectManager:s.get(B0,null),afterRenderEventManager:s.get(Sp,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function D3(e,t,n,r){const o=r.get(_0,!1)||n===an.ShadowDom,s=e.selectRootElement(t,o);return function b3(e){M0(e)}(s),s}(f,r,this.componentDef.encapsulation,s):xu(f,h,function ej(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=_p(p,s,!0));const T=Pp(0,null,null,1,0,null,null,null,null,null,null),R=tl(null,T,null,v,null,null,d,f,s,null,_);let G,Ke;Ch(R);try{const rn=this.componentDef;let si,eo=null;rn.findHostDirectiveDefs?(si=[],eo=new Map,rn.findHostDirectiveDefs(rn,si,eo),si.push(rn)):si=[rn];const Gw=function rj(e,t){const n=e[b],r=Y;return e[r]=t,Oo(n,r,2,"#host",null)}(R,p),Lte=function ij(e,t,n,r,i,o,s){const a=i[b];!function oj(e,t,n,r){for(const i of e)t.mergedAttrs=Bs(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(rl(t,t.mergedAttrs,!0),null!==n&&Db(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=_p(t,i[Tr]));const u=o.rendererFactory.createRenderer(t,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=tl(i,A0(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&kp(a,e,r.length-1),nl(i,d),i[e.index]=d}(Gw,p,rn,si,R,d,f);Ke=cD(T,Y),p&&function aj(e,t,n,r){if(r)sh(e,n,["ng-version",e0.full]);else{const{attrs:i,classes:o}=function zL(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&sh(e,n,i),o&&o.length>0&&Cb(e,n,o.join(" "))}}(f,rn,p,r),void 0!==n&&function cj(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ke,this.ngContentSelectors,n),G=function sj(e,t,n,r,i,o){const s=et(),a=i[b],c=Mt(s,i);P0(a,i,s,n,null,r);for(let l=0;l<n.length;l++)st(mi(i,a,s.directiveStart+l,s),i);x0(a,i,s),c&&st(c,i);const u=mi(i,a,s.directiveStart+s.componentOffset,s);if(e[xe]=i[xe]=u,null!==o)for(const l of o)l(u,t);return Mp(a,s,e),u}(Lte,rn,si,eo,R,[uj]),Up(T,R,null)}finally{Dh()}return new nj(this.componentType,G,Po(Ke,R),R,Ke)}}class nj extends GU{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new X3(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Fp(o[b],o,i,t,n),this.previousInputValues.set(t,n),ga(Ut(this._tNode.index,o))}}get injector(){return new gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function uj(){const e=et();gu(I()[b],e)}function at(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ii(e,t,n,r,i,o,s,a){const c=I(),u=Z(),l=e+Y,d=u.firstCreatePass?function Uj(e,t,n,r,i,o,s,a,c){const u=t.consts,l=Oo(t,e,4,s||null,Mr(u,a));xp(t,n,l,Mr(u,c)),gu(t,l);const d=l.tView=Pp(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,o,s):u.data[l];An(d,!1);const f=hT(u,c,d,e);pu()&&Lu(u,c,f,d),st(f,c),nl(c,c[l]=O0(f,c,f,d)),lu(d)&&Rp(u,c,d),null!=s&&Np(c,d,a)}let hT=function pT(e,t,n,r){return Rr(!0),t[j].createComment("")};function Lr(e){return function fo(e,t){return e[t]}(function MF(){return O.lFrame.contextLView}(),Y+e)}function Fr(e,t,n){const r=I();return at(r,po(),t)&&function $t(e,t,n,r,i,o,s,a){const c=Mt(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(Fp(e,n,l,r,i),li(t)&&function P3(e,t){const n=Ut(t,e);16&n[B]||(n[B]|=64)}(n,t.index)):3&t.type&&(r=function N3(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(Z(),function De(){const e=O.lFrame;return cD(e.tView,e.selectedIndex)}(),r,e,t,r[j],n,!1),Fr}function Gp(e,t,n,r,i){const s=i?"class":"style";Fp(e,n,t.inputs[s],s,r)}function D(e,t,n,r){const i=I(),o=Z(),s=Y+e,a=i[j],c=o.firstCreatePass?function Vj(e,t,n,r,i,o){const s=t.consts,c=Oo(t,e,2,r,Mr(s,i));return xp(t,n,c,Mr(s,o)),null!==c.attrs&&rl(c,c.attrs,!1),null!==c.mergedAttrs&&rl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],u=gT(o,i,c,a,t,e);i[s]=u;const l=lu(c);return An(c,!0),Db(a,u,c),32!=(32&c.flags)&&pu()&&Lu(o,i,u,c),0===function EF(){return O.lFrame.elementDepthCount}()&&st(u,i),function wF(){O.lFrame.elementDepthCount++}(),l&&(Rp(o,i,c),Mp(o,c,i)),null!==r&&Np(i,c),D}function A(){let e=et();yh()?function vh(){O.lFrame.isParent=!1}():(e=e.parent,An(e,!1));const t=e;(function DF(e){return O.skipHydrationRootTNode===e})(t)&&function AF(){O.skipHydrationRootTNode=null}(),function CF(){O.lFrame.elementDepthCount--}();const n=Z();return n.firstCreatePass&&(gu(n,e),uh(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function BF(e){return 0!=(8&e.flags)}(t)&&Gp(n,t,I(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function VF(e){return 0!=(16&e.flags)}(t)&&Gp(n,t,I(),t.stylesWithoutHost,!1),A}function J(e,t,n,r){return D(e,t,n,r),A(),J}let gT=(e,t,n,r,i,o)=>(Rr(!0),xu(r,i,function bD(){return O.lFrame.currentNamespace}()));function dl(e){return!!e&&"function"==typeof e.then}function vT(e){return!!e&&"function"==typeof e.subscribe}function rr(e,t,n,r){const i=I(),o=Z(),s=et();return function ET(e,t,n,r,i,o,s){const a=lu(r),u=e.firstCreatePass&&function U0(e){return e.cleanup||(e.cleanup=[])}(e),l=t[xe],d=function F0(e){return e[oo]||(e[oo]=[])}(t);let f=!0;if(3&r.type||s){const m=Mt(r,t),y=s?s(m):m,v=d.length,_=s?R=>s(ge(R[r.index])):r.index;let T=null;if(!s&&a&&(T=function Kj(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[oo],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,f=!1;else{o=CT(r,t,l,o,!1);const R=n.listen(y,i,o);d.push(o,R),u&&u.push(i,_,v,v+1)}}else o=CT(r,t,l,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const G=t[p[y]][p[y+1]].subscribe(o),Ke=d.length;d.push(o,G),u&&u.push(i,r.index,Ke,-(Ke+1))}}}(o,i,i[j],s,e,t,r),rr}function wT(e,t,n,r){try{return Sn(6,t,n),!1!==n(r)}catch(i){return $0(e,i),!1}finally{Sn(7,t,n)}}function CT(e,t,n,r,i){return function o(s){if(s===Function)return r;ga(e.componentOffset>-1?Ut(e.index,t):t);let c=wT(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=wT(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function ee(e,t=""){const n=I(),r=Z(),i=e+Y,o=r.firstCreatePass?Oo(r,i,1,t,null):r.data[i],s=KT(r,n,o,t,e);n[i]=s,pu()&&Lu(r,n,s,o),An(o,!1)}let KT=(e,t,n,r,i)=>(Rr(!0),function Pu(e,t){return e.createText(t)}(t[j],r));function pl(e,t,n){const r=I(),i=function Fo(e,t,n,r){return at(e,po(),n)?t+U(n)+r:$}(r,e,t,n);return i!==$&&nr(r,pt(),i),pl}const qo="en-US";let _S=qo;class Ci{}class HS{}class sg extends Ci{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new q0(this);const i=Ft(t);this._bootstrapComponents=tr(i.bootstrap),this._r3Injector=s0(t,n,[{provide:Ci,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver},...r],$e(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ag extends HS{constructor(t){super(),this.moduleType=t}create(t){return new sg(this.moduleType,t,[])}}class zS extends Ci{constructor(t){super(),this.componentFactoryResolver=new q0(this),this.instance=null;const n=new zu([...t.providers,{provide:Ci,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],t.parent||Hu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function cg(e,t,n=null){return new zS({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let WB=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Bb(0,n.type),i=r.length>0?cg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(N(Yt))})}return e})();function WS(e){e.getStandaloneInjector=t=>t.get(WB).getOrCreateStandaloneInjector(e)}function vV(e,t,n,r=!0){const i=t[b];if(function W2(e,t,n,r){const i=Je+r,o=n.length;r>0&&(n[i-1][un]=t),r<o-Je?(t[un]=n[i],BD(n,Je+r,t)):(n.push(t),t[un]=null),t[we]=n;const s=t[zs];null!==s&&n!==s&&function G2(e,t){const n=e[uo];t[ke]!==t[we][we][ke]&&(e[$C]=!0),null===n?e[uo]=[t]:n.push(t)}(s,t);const a=t[bn];null!==a&&a.insertView(e),t[B]|=128}(i,t,e,n),r){const o=Kh(n,e),s=t[j],a=Ou(s,e[Tn]);null!==a&&function V2(e,t,n,r,i,o){r[Se]=i,r[ot]=t,aa(e,r,n,1,i,o)}(i,e[ot],s,t,a,o)}}Symbol;let ir=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=wV}return e})();const IV=ir,EV=class extends IV{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function yV(e,t,n,r){const i=t.tView,a=tl(e,i,n,4096&e[B]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[zs]=e[t.index];const u=e[bn];return null!==u&&(a[bn]=u.createEmbeddedView(i)),Up(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new ya(i)}};function wV(){return function vl(e,t){return 4&e.type?new EV(t,e,Po(e,t)):null}(et(),I())}let hn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=AV}return e})();function AV(){return function uA(e,t){let n;const r=t[e.index];return ft(r)?n=r:(n=O0(r,t,null,e),t[e.index]=n,nl(t,n)),lA(n,t,e,r),new aA(n,e,t)}(et(),I())}const MV=hn,aA=class extends MV{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new gt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Iu(this._hostTNode,this._hostLView);if(Sh(t)){const n=Xs(t,this._hostLView),r=Js(t);return new gt(n[b].data[r+8],n)}return new gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=cA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function ta(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const c=s?t:new va(Q(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const y=(s?u:this.parentInjector).get(Yt,null);y&&(o=y)}Q(c.componentType??{});const h=c.create(u,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function yF(e){return ft(e[we])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[we],l=new aA(u,u[ot],u[we]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return vV(a,i,s,!r),t.attachToViewContainerRef(),BD(dg(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=cA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ku(this._lContainer,n);r&&(Cu(dg(this._lContainer),n),zh(r[b],r))}detach(t){const n=this._adjustIndex(t,-1),r=ku(this._lContainer,n);return r&&null!=Cu(dg(this._lContainer),n)?new ya(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function cA(e){return e[8]}function dg(e){return e[8]||(e[8]=[])}let lA=function dA(e,t,n,r){if(e[Tn])return;let i;i=8&n.type?ge(r):function RV(e,t){const n=e[j],r=n.createComment(""),i=Mt(t,e);return _i(n,Ou(n,i),r,function Q2(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Tn]=i};const wg=new M("Application Initializer");let Cg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(wg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(dl(o))n.push(o);else if(vT(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const or=new M("LocaleId",{providedIn:"root",factory:()=>S(or,K.Optional|K.SkipSelf)||function a4(){return typeof $localize<"u"&&$localize.locale||qo}()});let FA=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class l4{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let UA=(()=>{class e{compileModuleSync(n){return new ag(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=tr(Ft(n).declarations).reduce((s,a)=>{const c=Q(a);return c&&s.push(new va(c)),s},[]);return new l4(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VA=new M(""),Cl=new M("");let Ag,Tg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ag||(function R4(e){Ag=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(N(oe),N(Sg),N(Cl))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Sg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ag?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),jr=null;const HA=new M("AllowMultipleToken"),Mg=new M("PlatformDestroyListeners"),Rg=new M("appBootstrapListener");class WA{constructor(t,n){this.name=t,this.token=n}}function qA(e,t,n=[]){const r=`Platform: ${t}`,i=new M(r);return(o=[])=>{let s=Ng();if(!s||s.injector.get(HA,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function x4(e){if(jr&&!jr.get(HA,!1))throw new E(400,!1);(function zA(){!function rF(e){JC=e}(()=>{throw new E(600,!1)})})(),jr=e;const t=e.get(YA);(function GA(e){e.get(Gb,null)?.forEach(n=>n())})(e)}(function KA(e=[],t){return _t.create({name:t,providers:[{provide:sp,useValue:"platform"},{provide:Mg,useValue:new Set([()=>jr=null])},...e]})}(a,r))}return function O4(e){const t=Ng();if(!t)throw new E(401,!1);return t}()}}function Ng(){return jr?.get(YA)??null}let YA=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function L4(e="zone.js",t){return"noop"===e?new l3:"zone.js"===e?new oe(t):e}(r?.ngZone,function QA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function zB(e,t,n){return new sg(e,t,n)}(n.moduleType,this.injector,function tM(e){return[{provide:oe,useFactory:e},{provide:da,multi:!0,useFactory:()=>{const t=S(U4,{optional:!0});return()=>t.initialize()}},{provide:eM,useFactory:F4},{provide:d0,useFactory:f0}]}(()=>i)),s=o.injector.get(er,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Dl(this._modules,o),a.unsubscribe()})}),function ZA(e,t,n){try{const r=n();return dl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Cg);return a.runInitializers(),a.donePromise.then(()=>(function yS(e){Gt(e,"Expected localeId to be defined"),"string"==typeof e&&(_S=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(or,qo)||qo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=JA({},r);return function N4(e,t,n){const r=new ag(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Qo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Mg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(N(_t))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function JA(e,t){return Array.isArray(t)?t.reduce(JA,e):{...e,...t}}let Qo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(eM),this.zoneIsStable=S(d0),this.componentTypes=[],this.components=[],this.isStable=S(FA).hasPendingTasks.pipe(wn(n=>n?F(!1):this.zoneIsStable),function pL(e,t=Cr){return e=e??gL,Ue((n,r)=>{let i,o=!0;n.subscribe(je(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),mC()),this._injector=S(Yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Zb;if(!this._injector.get(Cg).done)throw!i&&function io(e){const t=Q(e)||Ze(e)||dt(e);return null!==t&&t.standalone}(n),new E(405,!1);let s;s=i?n:this._injector.get(Zu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function P4(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ci),u=s.create(_t.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(VA,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Dl(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Dl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Rg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Dl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const eM=new M("",{providedIn:"root",factory:()=>S(er).handleError.bind(void 0)});function F4(){const e=S(oe),t=S(er);return n=>e.runOutsideAngular(()=>t.handleError(n))}let U4=(()=>{class e{constructor(){this.zone=S(oe),this.applicationRef=S(Qo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Pg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$4}return e})();function $4(e){return function B4(e,t,n){if(li(e)&&!n){const r=Ut(e.index,t);return new ya(r,r)}return 47&e.type?new ya(t[ke],t):null}(et(),I(),16==(16&e))}const eH=qA(null,"core",[]);let tH=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(N(Qo))};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=sn({})}return e})(),jg=null;function Zo(){return jg}class gH{}const Zt=new M("DocumentToken");let $g=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return S(_H)},providedIn:"platform"})}return e})();const mH=new M("Location Initialized");let _H=(()=>{class e extends $g{constructor(){super(),this._doc=S(Zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zo().getBaseHref(this._doc)}onPopState(n){const r=Zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Bg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function vM(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function sr(e){return e&&"?"!==e[0]?"?"+e:e}let bi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return S(EM)},providedIn:"root"})}return e})();const IM=new M("appBaseHref");let EM=(()=>{class e extends bi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+sr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+sr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(N($g),N(IM,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yH=(()=>{class e extends bi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Bg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(N($g),N(IM,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Vg=(()=>{class e{constructor(n){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function EH(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(vM(wM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+sr(r))}normalize(n){return e.stripTrailingSlash(function IH(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,wM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=sr;static#t=this.joinWithSlash=Bg;static#n=this.stripTrailingSlash=vM;static#r=this.\u0275fac=function(r){return new(r||e)(N(bi))};static#i=this.\u0275prov=P({token:e,factory:function(){return function vH(){return new Vg(N(bi))}()},providedIn:"root"})}return e})();function wM(e){return e.replace(/\/index.html$/,"")}class Xg{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let jl=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=lt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),OM=(()=>{class e{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Xg(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||e)(x(hn),x(ir),x(jl,9))};static#t=this.\u0275dir=lt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})(),LM=(()=>{class e{constructor(n,r,i){i._addDefault(new Xg(n,r))}static#e=this.\u0275fac=function(r){return new(r||e)(x(hn),x(ir),x(jl,9))};static#t=this.\u0275dir=lt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return e})(),k6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=sn({})}return e})();function $M(e){return"server"===e}let U6=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new j6(N(Zt),window)})}return e})();class j6{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function $6(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class l5 extends gH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class im extends l5{static makeCurrent(){!function pH(e){jg||(jg=e)}(new im)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function d5(){return Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null}();return null==n?null:function f5(e){Vl=Vl||document.createElement("a"),Vl.setAttribute("href",e);const t=Vl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function o6(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Vl,Ua=null,p5=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const om=new M("EventManagerPlugins");let WM=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(N(om),N(oe))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class GM{constructor(t){this._doc=t}}const sm="ng-app-id";let qM=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$M(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${sm}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(sm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(sm,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(N(Zt),N(Wu),N(qb,8),N(xr))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const am={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cm=/%COMP%/g,y5=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function YM(e,t){return t.map(n=>n.replace(cm,e))}let QM=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=$M(a),this.defaultRenderer=new um(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===an.ShadowDom&&(r={...r,encapsulation:an.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof JM?i.applyToHost(n):i instanceof lm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case an.Emulated:o=new JM(c,u,r,this.appId,l,s,a,d);break;case an.ShadowDom:return new w5(c,u,n,r,s,a,this.nonce,d);default:o=new lm(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(N(WM),N(qM),N(Wu),N(y5),N(Zt),N(xr),N(oe),N(qb))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class um{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(am[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ZM(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ZM(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=am[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=am[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Nr.DashCase|Nr.Important)?t.style.setProperty(n,r,i&Nr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Nr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Zo().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function ZM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class w5 extends um{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=YM(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lm extends um{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?YM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JM extends lm{constructor(t,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=function v5(e){return"_ngcontent-%COMP%".replace(cm,e)}(u),this.hostAttr=function I5(e){return"_nghost-%COMP%".replace(cm,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let C5=(()=>{class e extends GM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(N(Zt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const XM=["alt","control","meta","shift"],D5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},b5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let T5=(()=>{class e extends GM{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zo().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),XM.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=D5[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),XM.forEach(s=>{s!==i&&(0,b5[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(N(Zt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const R5=qA(eH,"browser",[{provide:xr,useValue:"browser"},{provide:Gb,useValue:function S5(){im.makeCurrent()},multi:!0},{provide:Zt,useFactory:function M5(){return function iU(e){Zh=e}(document),document},deps:[]}]),N5=new M(""),nR=[{provide:Cl,useClass:class h5{addToWindow(t){pe.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},pe.getAllAngularTestabilities=()=>t.getAllTestabilities(),pe.getAllAngularRootElements=()=>t.getAllRootElements(),pe.frameworkStabilizers||(pe.frameworkStabilizers=[]),pe.frameworkStabilizers.push(r=>{const i=pe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Zo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:VA,useClass:Tg,deps:[oe,Sg,Cl]},{provide:Tg,useClass:Tg,deps:[oe,Sg,Cl]}],rR=[{provide:sp,useValue:"root"},{provide:er,useFactory:function A5(){return new er},deps:[]},{provide:om,useClass:C5,multi:!0,deps:[Zt,oe,xr]},{provide:om,useClass:T5,multi:!0,deps:[Zt]},QM,qM,WM,{provide:Xb,useExisting:QM},{provide:class B6{},useClass:p5,deps:[]},[]];let P5=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Wu,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(N(N5,12))};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=sn({providers:[...rR,...nR],imports:[k6,tH]})}return e})(),iR=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(N(Zt))};static#t=this.\u0275prov=P({token:e,factory:function(r){let i=null;return i=r?new r:function k5(){return new iR(N(Zt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:$5}=Array,{getPrototypeOf:B5,prototype:V5,keys:H5}=Object;const{isArray:G5}=Array;function fm(...e){const t=Fs(e),n=function oL(e){return le(Hf(e))?e.pop():void 0}(e),{args:r,keys:i}=function z5(e){if(1===e.length){const t=e[0];if($5(t))return{args:t,keys:null};if(function W5(e){return e&&"object"==typeof e&&B5(e)===V5}(t)){const n=H5(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Qe([],t);const o=new Pe(function Q5(e,t,n=Cr){return r=>{cR(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)cR(t,()=>{const u=Qe(e[c],t);let l=!1;u.subscribe(je(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>function Y5(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,s):Cr));return n?o.pipe(function K5(e){return he(t=>function q5(e,t){return G5(t)?e(...t):e(t)}(e,t))}(n)):o}function cR(e,t,n){e?qn(n,e,t):t()}const Hl=Os(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function hm(...e){return function Z5(){return no(1)}()(Qe(e,Fs(e)))}function uR(e){return new Pe(t=>{zt(e()).subscribe(t)})}function ja(e,t){const n=le(e)?e:()=>e,r=i=>i.error(n());return new Pe(t?i=>t.schedule(r,0,i):r)}function pm(){return Ue((e,t)=>{let n=null;e._refCount++;const r=je(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class lR extends Pe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eC(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bt;const n=this.getSubject();t.add(this.source.subscribe(je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bt.EMPTY)}return t}refCount(){return pm()(this)}}function Xo(e){return e<=0?()=>En:Ue((t,n)=>{let r=0;t.subscribe(je(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Br(e,t){return Ue((n,r)=>{let i=0;n.subscribe(je(r,o=>e.call(t,o,i++)&&r.next(o)))})}function zl(e){return Ue((t,n)=>{let r=!1;t.subscribe(je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function dR(e=X5){return Ue((t,n)=>{let r=!1;t.subscribe(je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function X5(){return new Hl}function Ti(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,o)=>e(i,o,r)):Cr,Xo(1),n?zl(t):dR(()=>new Hl))}function $a(e,t){return le(t)?Ye(e,t,1):Ye(e,1)}function tt(e,t,n){const r=le(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ue((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(je(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Cr}function Si(e){return Ue((t,n)=>{let o,r=null,i=!1;r=t.subscribe(je(n,void 0,void 0,s=>{o=zt(e(s,Si(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gm(e){return e<=0?()=>En:Ue((t,n)=>{let r=[];t.subscribe(je(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mm(e){return Ue((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const H="primary",Ba=Symbol("RouteTitle");class o8{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function es(e){return new o8(e)}function s8(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function kn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fR(e[i],t[i]))return!1;return!0}function fR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function hR(e){return e.length>0?e[e.length-1]:null}function Vr(e){return function j5(e){return!!e&&(e instanceof Pe||le(e.lift)&&le(e.subscribe))}(e)?e:dl(e)?Qe(Promise.resolve(e)):F(e)}const c8={exact:function mR(e,t,n){if(!Ai(e.segments,t.segments)||!Wl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!mR(e.children[r],t.children[r],n))return!1;return!0},subset:_R},pR={exact:function u8(e,t){return kn(e,t)},subset:function l8(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>fR(e[n],t[n]))},ignored:()=>!0};function gR(e,t,n){return c8[n.paths](e.root,t.root,n.matrixParams)&&pR[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function _R(e,t,n){return yR(e,t,t.segments,n)}function yR(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ai(i,n)||t.hasChildren()||!Wl(i,n,r))}if(e.segments.length===n.length){if(!Ai(e.segments,n)||!Wl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!_R(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Ai(e.segments,i)&&Wl(e.segments,i,r)&&e.children[H])&&yR(e.children[H],t,o,r)}}function Wl(e,t,n){return t.every((r,i)=>pR[n](e[i].parameters,r.parameters))}class ts{constructor(t=new ce([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return h8.serialize(this)}}class ce{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gl(this)}}class Va{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=es(this.parameters)),this._parameterMap}toString(){return ER(this)}}function Ai(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Ha=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return new _m},providedIn:"root"})}return e})();class _m{parse(t){const n=new D8(t);return new ts(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${za(t.root,!0)}`,r=function m8(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ql(n)}=${ql(i)}`).join("&"):`${ql(n)}=${ql(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function p8(e){return encodeURI(e)}(t.fragment)}`:""}`}}const h8=new _m;function Gl(e){return e.segments.map(t=>ER(t)).join("/")}function za(e,t){if(!e.hasChildren())return Gl(e);if(t){const n=e.children[H]?za(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${za(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function f8(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===H?[za(e.children[H],!1)]:[`${i}:${za(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[H]?`${Gl(e)}/${n[0]}`:`${Gl(e)}/(${n.join("//")})`}}function vR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ql(e){return vR(e).replace(/%3B/gi,";")}function ym(e){return vR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(e){return decodeURIComponent(e)}function IR(e){return Kl(e.replace(/\+/g,"%20"))}function ER(e){return`${ym(e.path)}${function g8(e){return Object.keys(e).map(t=>`;${ym(t)}=${ym(e[t])}`).join("")}(e.parameters)}`}const _8=/^[^\/()?;#]+/;function vm(e){const t=e.match(_8);return t?t[0]:""}const y8=/^[^\/()?;=#]+/,I8=/^[^=?&#]+/,w8=/^[^&#]+/;class D8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[H]=new ce(t,n)),r}parseSegment(){const t=vm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new Va(Kl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function v8(e){const t=e.match(y8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vm(this.remaining);i&&(r=i,this.capture(r))}t[Kl(n)]=Kl(r)}parseQueryParam(t){const n=function E8(e){const t=e.match(I8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function C8(e){const t=e.match(w8);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=IR(n),o=IR(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=H);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[H]:new ce([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function wR(e){return e.segments.length>0?new ce([],{[H]:e}):e}function CR(e){const t={};for(const r of Object.keys(e.children)){const o=CR(e.children[r]);if(r===H&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function b8(e){if(1===e.numberOfChildren&&e.children[H]){const t=e.children[H];return new ce(e.segments.concat(t.segments),t.children)}return e}(new ce(e.segments,t))}function Mi(e){return e instanceof ts}function DR(e){let t;const i=wR(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new ce(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function bR(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Im(i,i,i,n,r);const o=function S8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new SR(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new SR(n,t,r)}(t);if(o.toRoot())return Im(i,i,new ce([],{}),n,r);const s=function A8(e,t,n){if(e.isAbsolute)return new Ql(t,!0,0);if(!n)return new Ql(t,!1,NaN);if(null===n.parent)return new Ql(n,!0,0);const r=Yl(e.commands[0])?0:1;return function M8(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Ql(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Ga(s.segmentGroup,s.index,o.commands):AR(s.segmentGroup,s.index,o.commands);return Im(i,s.segmentGroup,a,n,r)}function Yl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wa(e){return"object"==typeof e&&null!=e&&e.outlets}function Im(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=e===t?n:TR(e,t,n);const a=wR(CR(s));return new ts(a,o,i)}function TR(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:TR(o,t,n)}),new ce(e.segments,r)}class SR{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Yl(r[0]))throw new E(4003,!1);const i=r.find(Wa);if(i&&i!==hR(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function AR(e,t,n){if(e||(e=new ce([],{})),0===e.segments.length&&e.hasChildren())return Ga(e,t,n);const r=function N8(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Wa(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!RR(c,u,s))return o;r+=2}else{if(!RR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ce(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new ce(e.segments.slice(r.pathIndex),e.children),Ga(o,0,i)}return r.match&&0===i.length?new ce(e.segments,{}):r.match&&!e.hasChildren()?Em(e,t,n):r.match?Ga(e,0,i):Em(e,t,n)}function Ga(e,t,n){if(0===n.length)return new ce(e.segments,{});{const r=function R8(e){return Wa(e[0])?e[0].outlets:{[H]:e}}(n),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&1===e.numberOfChildren&&0===e.children[H].segments.length){const o=Ga(e.children[H],t,n);return new ce(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=AR(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ce(e.segments,i)}}function Em(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Wa(o)){const c=P8(o.outlets);return new ce(r,c)}if(0===i&&Yl(n[0])){r.push(new Va(e.segments[t].path,MR(n[0]))),i++;continue}const s=Wa(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Yl(a)?(r.push(new Va(s,MR(a))),i+=2):(r.push(new Va(s,{})),i++)}return new ce(r,{})}function P8(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Em(new ce([],{}),0,r))}),t}function MR(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function RR(e,t,n){return e==n.path&&kn(t,n.parameters)}const qa="imperative";class On{constructor(t,n){this.id=t,this.url=n}}class Zl extends On{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hr extends On{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ka extends On{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ns extends On{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Jl extends On{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NR extends On{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x8 extends On{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k8 extends On{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O8 extends On{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L8 extends On{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class U8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class j8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PR{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wm{}class Cm{constructor(t){this.url=t}}class H8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ya,this.attachRef=null}}let Ya=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new H8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class xR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Dm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Dm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=bm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return bm(t,this._root).map(n=>n.value)}}function Dm(e,t){if(e===t.value)return t;for(const n of t.children){const r=Dm(e,n);if(r)return r}return null}function bm(e,t){if(e===t.value)return[t];for(const n of t.children){const r=bm(e,n);if(r.length)return r.unshift(t),r}return[]}class ur{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function rs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class kR extends xR{constructor(t,n){super(t),this.snapshot=n,Tm(this,t)}toString(){return this.snapshot.toString()}}function OR(e,t){const n=function z8(e,t){const s=new Xl([],{},{},"",{},H,t,null,{});return new FR("",new ur(s,[]))}(0,t),r=new Wt([new Va("",{})]),i=new Wt({}),o=new Wt({}),s=new Wt({}),a=new Wt(""),c=new is(r,i,s,a,o,H,t,n.root);return c.snapshot=n.root,new kR(new ur(c,[]),n)}class is{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(he(u=>u[Ba]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(t=>es(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(t=>es(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LR(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function W8(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Xl{get title(){return this.data?.[Ba]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FR extends xR{constructor(t,n){super(n),this.url=t,Tm(this,n)}toString(){return UR(this._root)}}function Tm(e,t){t.value._routerState=e,t.children.forEach(n=>Tm(e,n))}function UR(e){const t=e.children.length>0?` { ${e.children.map(UR).join(", ")} } `:"";return`${e.value}${t}`}function Sm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),kn(t.params,n.params)||e.paramsSubject.next(n.params),function a8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!kn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),kn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Am(e,t){const n=kn(e.params,t.params)&&function d8(e,t){return Ai(e,t)&&e.every((n,r)=>kn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Am(e.parent,t.parent))}let Mm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=S(Ya),this.location=S(hn),this.changeDetector=S(Pg),this.environmentInjector=S(Yt),this.inputBinder=S(ed,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new G8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fi]})}return e})();class G8{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===is?this.route:t===Ya?this.childContexts:this.parent.get(t,n)}}const ed=new M("");let jR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=fm([r.queryParams,r.params,r.data]).pipe(wn(([o,s,a],c)=>(a={...o,...s,...a},0===c?F(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function hH(e){const t=Q(e);if(!t)return null;const n=new va(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function Qa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function K8(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Qa(e,r,i);return Qa(e,r)})}(e,t,n);return new ur(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Qa(e,a)),s}}const r=function Y8(e){return new is(new Wt(e.url),new Wt(e.params),new Wt(e.queryParams),new Wt(e.fragment),new Wt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Qa(e,o));return new ur(r,i)}}const Rm="ngNavigationCancelingError";function $R(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Mi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=BR(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function BR(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Rm]=!0,r.cancellationCode=t,n&&(r.url=n),r}function VR(e){return e&&e[Rm]}let HR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ah({type:e,selectors:[["ng-component"]],standalone:!0,features:[WS],decls:1,vars:0,template:function(r,i){1&r&&J(0,"router-outlet")},dependencies:[Mm],encapsulation:2})}return e})();function Nm(e){const t=e.children&&e.children.map(Nm),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=HR),n}function mn(e){return e.outlet||H}function Za(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class rz{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Sm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=rs(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=rs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=rs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=rs(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new V8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new $8(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Sm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sm(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Za(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class zR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class td{constructor(t,n){this.component=t,this.route=n}}function iz(e,t,n){const r=e._root;return Ja(r,t?t._root:null,n,[r.value])}function os(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function wL(e){return null!==tu(e)}(e)?t.get(e):e:r}function Ja(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=rs(t);return e.children.forEach(s=>{(function sz(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function az(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ai(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ai(e.url,t.url)||!kn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Am(e,t)||!kn(e.queryParams,t.queryParams);default:return!Am(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new zR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ja(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new td(a.outlet.component,s))}else s&&Xa(t,a,i),i.canActivateChecks.push(new zR(r)),Ja(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xa(a,n.getContext(s),i)),i}function Xa(e,t,n){const r=rs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Xa(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new td(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function ec(e){return"function"==typeof e}function WR(e){return e instanceof Hl||"EmptyError"===e?.name}const nd=Symbol("INITIAL_VALUE");function ss(){return wn(e=>fm(e.map(t=>t.pipe(Xo(1),function J5(...e){const t=Fs(e);return Ue((n,r)=>{(t?hm(e,n,t):hm(e,n)).subscribe(r)})}(nd)))).pipe(he(t=>{for(const n of t)if(!0!==n){if(n===nd)return nd;if(!1===n||n instanceof ts)return n}return!0}),Br(t=>t!==nd),Xo(1)))}function GR(e){return function DO(...e){return Zw(e)}(tt(t=>{if(Mi(t))throw $R(0,t)}),he(t=>!0===t))}class rd{constructor(t){this.segmentGroup=t||null}}class qR{constructor(t){this.urlTree=t}}function as(e){return ja(new rd(e))}function KR(e){return ja(new qR(e))}class Sz{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new E(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return F(r);if(i.numberOfChildren>1||!i.children[H])return ja(new E(4e3,!1));i=i.children[H]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new ts(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ce(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Az(e,t,n,r,i){const o=xm(e,t,n);return o.matched?(r=function Z8(e,t){return e.providers&&!e._injector&&(e._injector=cg(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Dz(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?F(i.map(s=>{const a=os(s,e);return Vr(function hz(e){return e&&ec(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(ss(),GR()):F(!0)}(r,t,n).pipe(he(s=>!0===s?o:{...Pm}))):F(o)}function xm(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Pm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||s8)(n,e,t);if(!i)return{...Pm};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YR(e,t,n,r){return n.length>0&&function Nz(e,t,n){return n.some(r=>id(e,t,r)&&mn(r)!==H)}(e,n,r)?{segmentGroup:new ce(t,Rz(r,new ce(n,e.children))),slicedSegments:[]}:0===n.length&&function Pz(e,t,n){return n.some(r=>id(e,t,r))}(e,n,r)?{segmentGroup:new ce(e.segments,Mz(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ce(e.segments,e.children),slicedSegments:n}}function Mz(e,t,n,r,i){const o={};for(const s of r)if(id(e,n,s)&&!i[mn(s)]){const a=new ce([],{});o[mn(s)]=a}return{...i,...o}}function Rz(e,t){const n={};n[H]=t;for(const r of e)if(""===r.path&&mn(r)!==H){const i=new ce([],{});n[mn(r)]=i}return n}function id(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Lz{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Sz(this.urlSerializer,this.urlTree)}noMatchError(t){return new E(4002,!1)}recognize(){const t=YR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,H).pipe(Si(n=>{if(n instanceof qR)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof rd?this.noMatchError(n):n}),he(n=>{const r=new Xl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new ur(r,n),o=new FR("",i),s=function T8(e,t,n=null,r=null){return bR(DR(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,H).pipe(Si(r=>{throw r instanceof rd?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=LR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Qe(i).pipe($a(o=>{const s=r.children[o],a=function tz(e,t){const n=e.filter(r=>mn(r)===t);return n.push(...e.filter(r=>mn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function t8(e,t){return Ue(function e8(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(je(s,l=>{const d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),zl(null),function n8(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,o)=>e(i,o,r)):Cr,gm(1),n?zl(t):dR(()=>new Hl))}(),Ye(o=>{if(null===o)return as(r);const s=QR(o);return function Fz(e){e.sort((t,n)=>t.value.outlet===H?-1:n.value.outlet===H?1:t.value.outlet.localeCompare(n.value.outlet))}(s),F(s)}))}processSegment(t,n,r,i,o,s){return Qe(n).pipe($a(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Si(c=>{if(c instanceof rd)return F(null);throw c}))),Ti(a=>!!a),Si(a=>{if(WR(a))return function kz(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?F([]):as(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function xz(e,t,n,r){return!!(mn(e)===r||r!==H&&id(t,n,e))&&("**"===e.path||xm(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):as(i):as(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KR(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ye(s=>{const a=new ce(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=xm(n,i,o);if(!a)return as(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?KR(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ye(f=>this.processSegment(t,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?hR(i).parameters:{};a=F({snapshot:new Xl(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZR(r),mn(r),r.component??r._loadedComponent??null,r,JR(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Az(n,r,i,t).pipe(he(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new Xl(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZR(r),mn(r),r.component??r._loadedComponent??null,r,JR(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(wn(c=>null===c?as(n):this.getChildConfig(t=r._injector??t,r,i).pipe(wn(({routes:u})=>{const l=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:m}=YR(n,f,h,u);if(0===m.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(he(v=>null===v?null:[new ur(d,v)]));if(0===u.length&&0===m.length)return F([new ur(d,[])]);const y=mn(r)===o;return this.processSegment(l,u,p,m,y?H:o,!0).pipe(he(v=>[new ur(d,v)]))}))))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?F({routes:n._loadedRoutes,injector:n._loadedInjector}):function Cz(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?F(!0):F(i.map(s=>{const a=os(s,e);return Vr(function uz(e){return e&&ec(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(ss(),GR())}(t,n,r).pipe(Ye(i=>i?this.configLoader.loadChildren(t,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Tz(e){return ja(BR(!1,3))}())):F({routes:[],injector:t})}}function Uz(e){const t=e.value.routeConfig;return t&&""===t.path}function QR(e){const t=[],n=new Set;for(const r of e){if(!Uz(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=QR(r.children);t.push(new ur(r.value,i))}return t.filter(r=>!n.has(r))}function ZR(e){return e.data||{}}function JR(e){return e.resolve||{}}function XR(e){return"string"==typeof e.title||null===e.title}function km(e){return wn(t=>{const n=e(t);return n?Qe(n).pipe(he(()=>t)):F(t)})}const cs=new M("ROUTES");let Om=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(UA)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Vr(n.loadComponent()).pipe(he(e1),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),mm(()=>{this.componentLoaders.delete(n)})),i=new lR(r,()=>new on).pipe(pm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Wz(e,t,n,r){return Vr(e.loadChildren()).pipe(he(e1),Ye(i=>i instanceof HS||Array.isArray(i)?F(i):Qe(t.compileModuleAsync(i))),he(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(cs,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nm),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(mm(()=>{this.childrenLoaders.delete(r)})),s=new lR(o,()=>new on).pipe(pm());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function e1(e){return function Gz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let od=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new on,this.transitionAbortSubject=new on,this.configLoader=S(Om),this.environmentInjector=S(Yt),this.urlSerializer=S(Ha),this.rootContexts=S(Ya),this.inputBindingEnabled=null!==S(ed,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new U8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new F8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Wt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Br(o=>0!==o.id),he(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),wn(o=>{this.currentTransition=o;let s=!1,a=!1;return F(o).pipe(tt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wn(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new ns(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),En}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(wn(f=>{const h=this.transitions?.getValue();return this.events.next(new Zl(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?En:Promise.resolve(f)}),function jz(e,t,n,r,i,o){return Ye(s=>function Oz(e,t,n,r,i,o,s="emptyOnly"){return new Lz(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(he(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),tt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new NR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:m,extras:y}=c,v=new Zl(f,this.urlSerializer.serialize(h),p,m);this.events.next(v);const _=OR(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:_,urlAfterRedirects:h,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},F(o)}{const f="";return this.events.next(new ns(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),En}}),tt(c=>{const u=new x8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),he(c=>(this.currentTransition=o={...c,guards:iz(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function gz(e,t){return Ye(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?F({...n,guardsResult:!0}):function mz(e,t,n,r){return Qe(e).pipe(Ye(i=>function wz(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?F(o.map(a=>{const c=Za(t)??i,u=os(a,c);return Vr(function fz(e){return e&&ec(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):c.runInContext(()=>u(e,t,n,r))).pipe(Ti())})).pipe(ss()):F(!0)}(i.component,i.route,n,t,r)),Ti(i=>!0!==i,!0))}(s,r,i,e).pipe(Ye(a=>a&&function cz(e){return"boolean"==typeof e}(a)?function _z(e,t,n,r){return Qe(t).pipe($a(i=>hm(function vz(e,t){return null!==e&&t&&t(new j8(e)),F(!0)}(i.route.parent,r),function yz(e,t){return null!==e&&t&&t(new B8(e)),F(!0)}(i.route,r),function Ez(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function oz(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>uR(()=>F(s.guards.map(c=>{const u=Za(s.node)??n,l=os(c,u);return Vr(function dz(e){return e&&ec(e.canActivateChild)}(l)?l.canActivateChild(r,e):u.runInContext(()=>l(r,e))).pipe(Ti())})).pipe(ss())));return F(o).pipe(ss())}(e,i.path,n),function Iz(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return F(!0);const i=r.map(o=>uR(()=>{const s=Za(t)??n,a=os(o,s);return Vr(function lz(e){return e&&ec(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Ti())}));return F(i).pipe(ss())}(e,i.route,n))),Ti(i=>!0!==i,!0))}(r,o,e,t):F(a)),he(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),tt(c=>{if(o.guardsResult=c.guardsResult,Mi(c.guardsResult))throw $R(0,c.guardsResult);const u=new k8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Br(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),km(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(tt(u=>{const l=new O8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),wn(u=>{let l=!1;return F(u).pipe(function $z(e,t){return Ye(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=0;return Qe(i).pipe($a(s=>function Bz(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!XR(i)&&(o[Ba]=i.title),function Vz(e,t,n,r){const i=function Hz(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return F({});const o={};return Qe(i).pipe(Ye(s=>function zz(e,t,n,r){const i=Za(t)??r,o=os(e,i);return Vr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Ti(),tt(a=>{o[s]=a}))),gm(1),function r8(e){return he(()=>e)}(o),Si(s=>WR(s)?En:ja(s)))}(o,e,t,r).pipe(he(s=>(e._resolvedData=s,e.data=LR(e,n).resolve,i&&XR(i)&&(e.data[Ba]=i.title),null)))}(s.route,r,e,t)),tt(()=>o++),gm(1),Ye(s=>o===i.length?F(n):En))})}(n.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),tt(u=>{const l=new L8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),km(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(tt(f=>{l.component=f}),he(()=>{})));for(const f of l.children)d.push(...u(f));return d};return fm(u(c.targetSnapshot.root)).pipe(zl(),Xo(1))}),km(()=>this.afterPreactivation()),he(c=>{const u=function q8(e,t,n){const r=Qa(e,t._root,n?n._root:void 0);return new kR(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),tt(()=>{this.events.next(new wm)}),((e,t,n,r)=>he(i=>(new rz(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xo(1),tt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function i8(e){return Ue((t,n)=>{zt(e).subscribe(je(n,()=>n.complete(),Pf)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(tt(c=>{throw c}))),mm(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Si(c=>{if(a=!0,VR(c))this.events.next(new Ka(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Q8(e){return VR(e)&&Mi(e.url)}(c)?this.events.next(new Cm(c.url)):o.resolve(!1);else{this.events.next(new Jl(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return En}))}))}cancelNavigationTransition(n,r,i){const o=new Ka(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function t1(e){return e!==qa}let n1=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[Ba]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return S(qz)},providedIn:"root"})}return e})(),qz=(()=>{class e extends n1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(N(iR))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return S(Qz)},providedIn:"root"})}return e})();class Yz{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Qz=(()=>{class e extends Yz{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function UD(e){return Kn(()=>{const t=e.prototype.constructor,n=t[Yn]||Nh(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Yn]||Nh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(e)))(i||e)}}();static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sd=new M("",{providedIn:"root",factory:()=>({})});let Zz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:function(){return S(Jz)},providedIn:"root"})}return e})(),Jz=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(tc||{});function r1(e,t){e.events.pipe(Br(n=>n instanceof Hr||n instanceof Ka||n instanceof Jl||n instanceof ns),he(n=>n instanceof Hr||n instanceof ns?tc.COMPLETE:n instanceof Ka&&(0===n.code||1===n.code)?tc.REDIRECTING:tc.FAILED),Br(n=>n!==tc.REDIRECTING),Xo(1)).subscribe(()=>{t()})}function Xz(e){throw e}function eW(e,t,n){return t.parse("/")}const tW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let en=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(LA),this.isNgZoneEnabled=!1,this._events=new on,this.options=S(sd,{optional:!0})||{},this.pendingTasks=S(FA),this.errorHandler=this.options.errorHandler||Xz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(Zz),this.routeReuseStrategy=S(Kz),this.titleStrategy=S(n1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(cs,{optional:!0})?.flat()??[],this.navigationTransitions=S(od),this.urlSerializer=S(Ha),this.location=S(Vg),this.componentInputBindingEnabled=!!S(ed,{optional:!0}),this.eventsSubscription=new bt,this.isNgZoneEnabled=S(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ts,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(i1(r)&&this._events.next(r));if(r instanceof Zl)t1(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ns)this.rawUrlTree=i.rawUrl;else if(r instanceof NR){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof wm)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ka)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Cm){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||t1(i.source)};this.scheduleNavigation(o,qa,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Jl&&this.restoreHistory(i,!0),r instanceof Hr&&(this.navigated=!0),i1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qa,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Nm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=DR(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return bR(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Mi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qa,null,r)}navigate(n,r={skipLocationChange:!1}){return function rW(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...tW}:!1===r?{...nW}:r,Mi(n))return gR(this.currentUrlTree,n,i);const o=this.parseUrl(n);return gR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,c=f});const l=this.pendingTasks.add();return r1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function i1(e){return!(e instanceof wm||e instanceof Cm)}class o1{}let sW=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Br(n=>n instanceof Hr),$a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=cg(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qe(i).pipe(no())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):F(null);const o=i.pipe(Ye(s=>null===s?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Qe([o,this.loader.loadComponent(r)]).pipe(no()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(N(en),N(UA),N(Yt),N(o1),N(Om))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Fm=new M("");let s1=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Hr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ns&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof PR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function T0(){throw new Error("invalid")}()};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function lr(e,t){return{\u0275kind:e,\u0275providers:t}}function c1(){const e=S(_t);return t=>{const n=e.get(Qo);if(t!==n.components[0])return;const r=e.get(en),i=e.get(u1);1===e.get(Um)&&r.initialNavigation(),e.get(l1,null,K.Optional)?.setUpPreloading(),e.get(Fm,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const u1=new M("",{factory:()=>new on}),Um=new M("",{providedIn:"root",factory:()=>1}),l1=new M("");function lW(e){return lr(0,[{provide:l1,useExisting:sW},{provide:o1,useExisting:e}])}const d1=new M("ROUTER_FORROOT_GUARD"),fW=[Vg,{provide:Ha,useClass:_m},en,Ya,{provide:is,useFactory:function a1(e){return e.routerState.root},deps:[en]},Om,[]];function hW(){return new WA("Router",en)}let f1=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[fW,[],{provide:cs,multi:!0,useValue:n},{provide:d1,useFactory:_W,deps:[[en,new mt,new bu]]},{provide:sd,useValue:r||{}},r?.useHash?{provide:bi,useClass:yH}:{provide:bi,useClass:EM},{provide:Fm,useFactory:()=>{const e=S(U6),t=S(oe),n=S(sd),r=S(od),i=S(Ha);return n.scrollOffset&&e.setOffset(n.scrollOffset),new s1(i,r,e,t,n)}},r?.preloadingStrategy?lW(r.preloadingStrategy).\u0275providers:[],{provide:WA,multi:!0,useFactory:hW},r?.initialNavigation?yW(r):[],r?.bindToComponentInputs?lr(8,[jR,{provide:ed,useExisting:jR}]).\u0275providers:[],[{provide:h1,useFactory:c1},{provide:Rg,multi:!0,useExisting:h1}]]}}static forChild(n){return{ngModule:e,providers:[{provide:cs,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(N(d1,8))};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=sn({})}return e})();function _W(e){return"guarded"}function yW(e){return["disabled"===e.initialNavigation?lr(3,[{provide:wg,multi:!0,useFactory:()=>{const t=S(en);return()=>{t.setUpLocationChangeListener()}}},{provide:Um,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?lr(2,[{provide:Um,useValue:0},{provide:wg,multi:!0,deps:[_t],useFactory:t=>{const n=t.get(mH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(en),o=t.get(u1);r1(i,()=>{r(!0)}),t.get(od).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const h1=new M(""),IW=[];let EW=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Dn({type:e});static#n=this.\u0275inj=sn({imports:[f1.forRoot(IW),f1]})}return e})();function wW(e,t){1&e&&(D(0,"pre"),ee(1,"ng generate component xyz"),A())}function CW(e,t){1&e&&(D(0,"pre"),ee(1,"ng add @angular/material"),A())}function DW(e,t){1&e&&(D(0,"pre"),ee(1,"ng add @angular/pwa"),A())}function bW(e,t){1&e&&(D(0,"pre"),ee(1,"ng add _____"),A())}function TW(e,t){1&e&&(D(0,"pre"),ee(1,"ng test"),A())}function SW(e,t){1&e&&(D(0,"pre"),ee(1,"ng build"),A())}let AW=(()=>{class e{constructor(){this.title="Objects_Tracker"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ah({type:e,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 179.2 192.7",2,"margin-right","8px"],["fill","#ffa726","d","M89.4 0 0 32l13.5 118.4 75.9 42.3 76-42.3L179.2 32 89.4 0z"],["fill","#fb8c00","d","M89.4 0v192.7l76-42.3L179.2 32 89.4 0z"],["fill","#ffe0b2","d","m102.9 146.3-63.3-30.5 36.3-22.4 63.7 30.6-36.7 22.3z"],["fill","#fff3e0","d","M102.9 122.8 39.6 92.2l36.3-22.3 63.7 30.6-36.7 22.3z"],["fill","#fff","d","M102.9 99.3 39.6 68.7l36.3-22.4 63.7 30.6-36.7 22.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(r,i){if(1&r){const o=function yT(){return I()}();D(0,"div",0),J(1,"img",1),D(2,"span"),ee(3,"Welcome"),A(),J(4,"div",2),D(5,"a",3),Ie(),D(6,"svg",4),J(7,"rect",5)(8,"path",6),A()(),Ee(),D(9,"a",7),Ie(),D(10,"svg",8),J(11,"path",9)(12,"path",10),A()()(),Ee(),D(13,"div",11)(14,"div",12),Ie(),D(15,"svg",13)(16,"title"),ee(17,"Rocket Ship"),A(),D(18,"g",14),J(19,"circle",15),D(20,"g",16),J(21,"path",17)(22,"path",18),A()()(),Ee(),D(23,"span"),ee(24),A(),Ie(),D(25,"svg",19)(26,"title"),ee(27,"Rocket Ship Smoke"),A(),J(28,"path",20),A()(),Ee(),D(29,"h2"),ee(30,"Resources"),A(),D(31,"p"),ee(32,"Here are some links to help you get started:"),A(),D(33,"div",21)(34,"a",22),Ie(),D(35,"svg",23),J(36,"path",24),A(),Ee(),D(37,"span"),ee(38,"Learn Angular"),A(),Ie(),D(39,"svg",23),J(40,"path",25),A()(),Ee(),D(41,"a",26),Ie(),D(42,"svg",23),J(43,"path",27),A(),Ee(),D(44,"span"),ee(45,"CLI Documentation"),A(),Ie(),D(46,"svg",23),J(47,"path",25),A()(),Ee(),D(48,"a",28),Ie(),D(49,"svg",29),J(50,"path",30)(51,"path",31)(52,"path",32)(53,"path",33)(54,"path",34),A(),Ee(),D(55,"span"),ee(56,"Angular Material"),A(),Ie(),D(57,"svg",23),J(58,"path",25),A()(),Ee(),D(59,"a",35),Ie(),D(60,"svg",23),J(61,"path",36),A(),Ee(),D(62,"span"),ee(63,"Angular Blog"),A(),Ie(),D(64,"svg",23),J(65,"path",25),A()(),Ee(),D(66,"a",37),Ie(),D(67,"svg",38)(68,"g"),J(69,"rect",39),A(),D(70,"g")(71,"g"),J(72,"path",40)(73,"polygon",41),A()()(),Ee(),D(74,"span"),ee(75,"Angular DevTools"),A(),Ie(),D(76,"svg",23),J(77,"path",25),A()()(),Ee(),D(78,"h2"),ee(79,"Next Steps"),A(),D(80,"p"),ee(81,"What do you want to do next with your app?"),A(),J(82,"input",42,43),D(84,"div",21)(85,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="component")}),Ie(),D(86,"svg",23),J(87,"path",45),A(),Ee(),D(88,"span"),ee(89,"New Component"),A()(),D(90,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="material")}),Ie(),D(91,"svg",23),J(92,"path",45),A(),Ee(),D(93,"span"),ee(94,"Angular Material"),A()(),D(95,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="pwa")}),Ie(),D(96,"svg",23),J(97,"path",45),A(),Ee(),D(98,"span"),ee(99,"Add PWA Support"),A()(),D(100,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="dependency")}),Ie(),D(101,"svg",23),J(102,"path",45),A(),Ee(),D(103,"span"),ee(104,"Add Dependency"),A()(),D(105,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="test")}),Ie(),D(106,"svg",23),J(107,"path",45),A(),Ee(),D(108,"span"),ee(109,"Run and Watch Tests"),A()(),D(110,"button",44),rr("click",function(){return hi(o),pi(Lr(83).value="build")}),Ie(),D(111,"svg",23),J(112,"path",45),A(),Ee(),D(113,"span"),ee(114,"Build for Production"),A()()(),D(115,"div",46),Ii(116,wW,2,0,"pre",47),Ii(117,CW,2,0,"pre",48),Ii(118,DW,2,0,"pre",48),Ii(119,bW,2,0,"pre",48),Ii(120,TW,2,0,"pre",48),Ii(121,SW,2,0,"pre",48),A(),D(122,"div",21)(123,"a",49),Ie(),D(124,"svg",50)(125,"title"),ee(126,"Meetup Logo"),A(),J(127,"path",51),A()(),Ee(),D(128,"a",52),Ie(),D(129,"svg",53)(130,"title"),ee(131,"Discord Logo"),A(),J(132,"path",54)(133,"path",55),A()()(),Ee(),D(134,"footer"),ee(135," Love Angular?\xa0 "),D(136,"a",56),ee(137," Give our repo a star. "),D(138,"div",57),Ie(),D(139,"svg",23),J(140,"path",58)(141,"path",59),A(),ee(142," Star "),A()(),Ee(),D(143,"a",56),Ie(),D(144,"svg",23),J(145,"path",60)(146,"path",58),A()()(),D(147,"svg",61)(148,"title"),ee(149,"Gray Clouds Background"),A(),J(150,"path",62),A()(),Ee(),J(151,"router-outlet")}if(2&r){const o=Lr(83);Or(24),pl("",i.title," app is running!"),Or(91),Fr("ngSwitch",o.value),Or(2),Fr("ngSwitchCase","material"),Or(1),Fr("ngSwitchCase","pwa"),Or(1),Fr("ngSwitchCase","dependency"),Or(1),Fr("ngSwitchCase","test"),Or(1),Fr("ngSwitchCase","build")}},dependencies:[jl,OM,LM,Mm],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n\n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']})}return e})();function p1(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){p1(o,r,i,s,a,"next",c)}function a(c){p1(o,r,i,s,a,"throw",c)}s(void 0)})}}const C=function(e,t){if(!e)throw us(t)},us=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},g1=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new RW;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class RW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m1=function(e){const t=g1(e);return ad.encodeByteArray(t,!0)},cd=function(e){return m1(e).replace(/\./g,"")},ud=function(e){try{return ad.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NW(e){return _1(void 0,e)}function _1(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!PW(n)||(e[n]=_1(e[n],t[n]));return e}function PW(e){return"__proto__"!==e}const ld=()=>{try{return function xW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ud(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},y1=e=>{var t,n;return null===(n=null===(t=ld())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},v1=()=>{var e;return null===(e=ld())||void 0===e?void 0:e.config},I1=e=>{var t;return null===(t=ld())||void 0===t?void 0:t[`_${e}`]};class ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $m(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Bm(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function E1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ri(){try{return"object"==typeof indexedDB}catch{return!1}}function nc(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}function Vm(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _n extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}}class Ln{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function VW(e,t){return e.replace(HW,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new _n(i,`${this.serviceName}: ${s} (${i}).`,r)}}const HW=/\{\$([^}]+)}/g;function rc(e){return JSON.parse(e)}function nt(e){return JSON.stringify(e)}const dd=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=rc(ud(o[0])||""),n=rc(ud(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ds(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Hm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fd(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function hd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(w1(o)&&w1(s)){if(!hd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w1(e){return null!==e&&"object"==typeof e}function ic(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class GW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let u,l,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),l=1518500249):(u=o^s^a,l=1859775393):d<60?(u=o&s|a&(o|s),l=2400959708):(u=o^s^a,l=3395469782);const f=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class KW{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function YW(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=zm),void 0===i.error&&(i.error=zm),void 0===i.complete&&(i.complete=zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zm(){}const gd=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ZW=1e3,JW=2,XW=144e5,e7=.5;function Wm(e,t=ZW,n=JW){const r=t*Math.pow(n,e),i=Math.round(e7*r*(Math.random()-.5)*2);return Math.min(XW,r+i)}function Fn(e){return e&&e._delegate?e._delegate:e}class ct{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ni="[DEFAULT]";class n7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ls;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function i7(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ni){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return g(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Ni){return this.instances.has(t)}getOptions(t=Ni){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Ni?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Ni){return this.component?this.component.multipleInstances?t:Ni:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new n7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const Gm=[];var ue=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ue||{});const C1={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},s7=ue.INFO,a7={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},c7=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a7[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class fs{constructor(t){this.name=t,this._logLevel=s7,this._logHandler=c7,this._userLogHandler=null,Gm.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?C1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const u7=(e,t)=>t.some(n=>e instanceof n);let D1,b1;const T1=new WeakMap,qm=new WeakMap,S1=new WeakMap,Km=new WeakMap,Ym=new WeakMap;let Qm={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qm.get(e);if("objectStoreNames"===t)return e.objectStoreNames||S1.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m7(e){return"function"==typeof e?function g7(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function d7(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Zm(this),t),zr(T1.get(this))}:function(...t){return zr(e.apply(Zm(this),t))}:function(t,...n){const r=e.call(Zm(this),t,...n);return S1.set(r,t.sort?t.sort():[t]),zr(r)}}(e):(e instanceof IDBTransaction&&function h7(e){if(qm.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});qm.set(e,t)}(e),u7(e,function l7(){return D1||(D1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Qm):e)}function zr(e){if(e instanceof IDBRequest)return function f7(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(zr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&T1.set(n,e)}).catch(()=>{}),Ym.set(t,e),t}(e);if(Km.has(e))return Km.get(e);const t=m7(e);return t!==e&&(Km.set(e,t),Ym.set(t,e)),t}const Zm=e=>Ym.get(e),y7=["get","getKey","getAll","getAllKeys","count"],v7=["put","add","delete","clear"],Jm=new Map;function A1(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Jm.get(t))return Jm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y7.includes(n))return;const o=function(){var s=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Jm.set(t,o),o}!function p7(e){Qm=e(Qm)}(e=>({...e,get:(t,n,r)=>A1(t,n)||e.get(t,n,r),has:(t,n)=>!!A1(t,n)||e.has(t,n)}));class I7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function E7(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Xm="@firebase/app",Pi=new fs("@firebase/app"),md="[DEFAULT]",q7={[Xm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xi=new Map,_d=new Map;function K7(e,t){try{e.container.addComponent(t)}catch(n){Pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wt(e){const t=e.name;if(_d.has(t))return Pi.debug(`There were multiple attempts to register component ${t}.`),!1;_d.set(t,e);for(const n of xi.values())K7(n,e);return!0}function hs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const hr=new Ln("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Q7{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const ki="9.23.0";function R1(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:md,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw hr.create("bad-app-name",{appName:String(i)});if(n||(n=v1()),!n)throw hr.create("no-options");const o=xi.get(i);if(o){if(hd(n,o.options)&&hd(r,o.config))return o;throw hr.create("duplicate-app",{appName:i})}const s=new o7(i);for(const c of _d.values())s.addComponent(c);const a=new Q7(n,r,s);return xi.set(i,a),a}function e_(e=md){const t=xi.get(e);if(!t&&e===md&&v1())return R1();if(!t)throw hr.create("no-app",{appName:e});return t}function N1(){return Array.from(xi.values())}function Me(e,t,n){var r;let i=null!==(r=q7[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Pi.warn(a.join(" "))}wt(new ct(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Z7="firebase-heartbeat-database",J7=1,oc="firebase-heartbeat-store";let n_=null;function P1(){return n_||(n_=function _7(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=zr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(zr(s.result),c.oldVersion,c.newVersion,zr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Z7,J7,{upgrade:(e,t)=>{0===t&&e.createObjectStore(oc)}}).catch(e=>{throw hr.create("idb-open",{originalErrorMessage:e.message})})),n_}function r_(){return(r_=g(function*(e){try{return yield(yield P1()).transaction(oc).objectStore(oc).get(k1(e))}catch(t){if(t instanceof _n)Pi.warn(t.message);else{const n=hr.create("idb-get",{originalErrorMessage:t?.message});Pi.warn(n.message)}}})).apply(this,arguments)}function x1(e,t){return i_.apply(this,arguments)}function i_(){return(i_=g(function*(e,t){try{const r=(yield P1()).transaction(oc,"readwrite");yield r.objectStore(oc).put(t,k1(e)),yield r.done}catch(n){if(n instanceof _n)Pi.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n?.message});Pi.warn(r.message)}}})).apply(this,arguments)}function k1(e){return`${e.name}!${e.options.appId}`}class nG{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return g(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=O1();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return g(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=O1(),{heartbeatsToSend:r,unsentEntries:i}=function rG(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),L1(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=cd(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function O1(){return(new Date).toISOString().substring(0,10)}class iG{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ri()&&nc().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return g(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function X7(e){return r_.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return x1(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return x1(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function L1(e){return cd(JSON.stringify({version:2,heartbeats:e})).length}!function oG(e){wt(new ct("platform-logger",t=>new I7(t),"PRIVATE")),wt(new ct("heartbeat",t=>new nG(t),"PRIVATE")),Me(Xm,"0.9.13",e),Me(Xm,"0.9.13","esm2017"),Me("fire-js","")}(""),Me("firebase","9.23.0","app");const cG=(e,t)=>t.some(n=>e instanceof n);let F1,U1;const j1=new WeakMap,o_=new WeakMap,$1=new WeakMap,s_=new WeakMap,a_=new WeakMap;let c_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$1.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function gG(e){return"function"==typeof e?function pG(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lG(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(u_(this),t),Wr(j1.get(this))}:function(...t){return Wr(e.apply(u_(this),t))}:function(t,...n){const r=e.call(u_(this),t,...n);return $1.set(r,t.sort?t.sort():[t]),Wr(r)}}(e):(e instanceof IDBTransaction&&function fG(e){if(o_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});o_.set(e,t)}(e),cG(e,function uG(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,c_):e)}function Wr(e){if(e instanceof IDBRequest)return function dG(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Wr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&j1.set(n,e)}).catch(()=>{}),a_.set(t,e),t}(e);if(s_.has(e))return s_.get(e);const t=gG(e);return t!==e&&(s_.set(e,t),a_.set(t,e)),t}const u_=e=>a_.get(e),_G=["get","getKey","getAll","getAllKeys","count"],yG=["put","add","delete","clear"],l_=new Map;function B1(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(l_.get(t))return l_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_G.includes(n))return;const o=function(){var s=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return l_.set(t,o),o}!function hG(e){c_=e(c_)}(e=>({...e,get:(t,n,r)=>B1(t,n)||e.get(t,n,r),has:(t,n)=>!!B1(t,n)||e.has(t,n)}));const V1="@firebase/installations",d_="0.6.4",H1=1e4,z1=`w:${d_}`,W1="FIS_v2",vG="https://firebaseinstallations.googleapis.com/v1",IG=36e5,pr=new Ln("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function G1(e){return e instanceof _n&&e.code.includes("request-failed")}function f_({projectId:e}){return`${vG}/projects/${e}/installations`}function q1(e){return{token:e.token,requestStatus:2,expiresIn:DG(e.expiresIn),creationTime:Date.now()}}function h_(e,t){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(e,t){const r=(yield t.json()).error;return pr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function K1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function g_(e){return m_.apply(this,arguments)}function m_(){return(m_=g(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function DG(e){return Number(e.replace("s","000"))}function __(){return(__=g(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=f_(e),i=K1(e),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:W1,appId:e.appId,sdkVersion:z1})},c=yield g_(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:q1(u.authToken)}}throw yield h_("Create Installation",c)})).apply(this,arguments)}function Q1(e){return new Promise(t=>{setTimeout(t,e)})}const AG=/^[cdef][\w-]{21}$/,y_="";function MG(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function RG(e){return function SG(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return AG.test(n)?n:y_}catch{return y_}}function ps(e){return`${e.appName}!${e.appId}`}const gs=new Map;function Z1(e,t){const n=ps(e);J1(n,t),function xG(e,t){const n=function X1(){return!Oi&&"BroadcastChannel"in self&&(Oi=new BroadcastChannel("[Firebase] FID Change"),Oi.onmessage=e=>{J1(e.data.key,e.data.fid)}),Oi}();n&&n.postMessage({key:e,fid:t}),function eN(){0===gs.size&&Oi&&(Oi.close(),Oi=null)}()}(n,t)}function J1(e,t){const n=gs.get(e);if(n)for(const r of n)r(t)}let Oi=null;const kG="firebase-installations-database",OG=1,Li="firebase-installations-store";let v_=null;function I_(){return v_||(v_=function mG(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Wr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Wr(s.result),c.oldVersion,c.newVersion,Wr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(kG,OG,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Li)}})),v_}function yd(e,t){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(e,t){const n=ps(e),i=(yield I_()).transaction(Li,"readwrite"),o=i.objectStore(Li),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&Z1(e,t.fid),t})).apply(this,arguments)}function w_(e){return C_.apply(this,arguments)}function C_(){return(C_=g(function*(e){const t=ps(e),r=(yield I_()).transaction(Li,"readwrite");yield r.objectStore(Li).delete(t),yield r.done})).apply(this,arguments)}function sc(e,t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(e,t){const n=ps(e),i=(yield I_()).transaction(Li,"readwrite"),o=i.objectStore(Li),s=yield o.get(n),a=t(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Z1(e,a.fid),a})).apply(this,arguments)}function b_(e){return T_.apply(this,arguments)}function T_(){return T_=g(function*(e){let t;const n=yield sc(e.appConfig,r=>{const i=function LG(e){return nN(e||{fid:MG(),registrationStatus:0})}(r),o=function FG(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(pr.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function UG(e,t){return S_.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jG(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===y_?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),T_.apply(this,arguments)}function S_(){return S_=g(function*(e,t){try{const n=yield function TG(e,t){return __.apply(this,arguments)}(e,t);return yd(e.appConfig,n)}catch(n){throw G1(n)&&409===n.customData.serverCode?yield w_(e.appConfig):yield yd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),S_.apply(this,arguments)}function jG(e){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(e){let t=yield tN(e.appConfig);for(;1===t.registrationStatus;)yield Q1(100),t=yield tN(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield b_(e);return r||n}return t})).apply(this,arguments)}function tN(e){return sc(e,t=>{if(!t)throw pr.create("installation-not-found");return nN(t)})}function nN(e){return function $G(e){return 1===e.registrationStatus&&e.registrationTime+H1<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function M_(){return(M_=g(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function VG(e,{fid:t}){return`${f_(e)}/${t}/authTokens:generate`}(e,n),i=function Y1(e,{refreshToken:t}){const n=K1(e);return n.append("Authorization",function bG(e){return`${W1} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:z1,appId:e.appId}})},c=yield g_(()=>fetch(r,a));if(c.ok)return q1(yield c.json());throw yield h_("Generate Auth Token",c)})).apply(this,arguments)}function R_(e){return N_.apply(this,arguments)}function N_(){return N_=g(function*(e,t=!1){let n;const r=yield sc(e.appConfig,o=>{if(!iN(o))throw pr.create("not-registered");const s=o.authToken;if(!t&&function WG(e){return 2===e.requestStatus&&!function GG(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+IG}(e)}(s))return o;if(1===s.requestStatus)return n=function HG(e,t){return P_.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw pr.create("app-offline");const a=function qG(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function zG(e,t){return x_.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),N_.apply(this,arguments)}function P_(){return(P_=g(function*(e,t){let n=yield rN(e.appConfig);for(;1===n.authToken.requestStatus;)yield Q1(100),n=yield rN(e.appConfig);const r=n.authToken;return 0===r.requestStatus?R_(e,t):r})).apply(this,arguments)}function rN(e){return sc(e,t=>{if(!iN(t))throw pr.create("not-registered");return function KG(e){return 1===e.requestStatus&&e.requestTime+H1<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function x_(){return x_=g(function*(e,t){try{const n=yield function BG(e,t){return M_.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield yd(e.appConfig,r),n}catch(n){if(!G1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield yd(e.appConfig,r)}else yield w_(e.appConfig);throw n}}),x_.apply(this,arguments)}function iN(e){return void 0!==e&&2===e.registrationStatus}function k_(){return(k_=g(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield b_(t);return r?r.catch(console.error):R_(t).catch(console.error),n.fid})).apply(this,arguments)}function O_(){return O_=g(function*(e,t=!1){const n=e;return yield function ZG(e){return L_.apply(this,arguments)}(n),(yield R_(n,t)).token}),O_.apply(this,arguments)}function L_(){return(L_=g(function*(e){const{registrationPromise:t}=yield b_(e);t&&(yield t)})).apply(this,arguments)}function j_(e){return pr.create("missing-app-config-values",{valueName:e})}const oN="installations",n9=e=>{const t=e.getProvider("app").getImmediate(),n=function e9(e){if(!e||!e.options)throw j_("App Configuration");if(!e.name)throw j_("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw j_(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:hs(t,"heartbeat"),_delete:()=>Promise.resolve()}},r9=e=>{const n=hs(e.getProvider("app").getImmediate(),oN).getImmediate();return{getId:()=>function YG(e){return k_.apply(this,arguments)}(n),getToken:i=>function QG(e){return O_.apply(this,arguments)}(n,i)}};(function i9(){wt(new ct(oN,n9,"PUBLIC")),wt(new ct("installations-internal",r9,"PRIVATE"))})(),Me(V1,d_),Me(V1,d_,"esm2017");const $_="@firebase/remote-config",xt=new Ln("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class g9{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const o=yield n.client.fetch(t),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function m9(e=navigator){return e.languages&&e.languages[0]||e.language}class _9{constructor(t,n,r,i,o,s){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(t){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:m9()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((v,_)=>{t.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let f;try{yield Promise.race([l,d]),f=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),xt.create(_,{originalErrorMessage:v?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let m,y;if(200===f.status){let v;try{v=yield f.json()}catch(_){throw xt.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?h=500:"NO_CHANGE"===y?h=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==h&&200!==h)throw xt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class I9{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function y9(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(xt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,n);try{const o=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function v9(e){if(!(e instanceof _n&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Wm(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(t,s)}})()}}class C9{constructor(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Id(e,t){const n=e.target.error||void 0;return xt.create(t,{originalErrorMessage:n&&n?.message})}const Fi="app_namespace_store";class S9{constructor(t,n,r,i=function T9(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(Id(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fi,{keyPath:"compositeKey"})}}catch(n){t(xt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Fi],"readonly").objectStore(Fi),c=n.createCompositeKey(t);try{const u=a.get(c);u.onerror=l=>{o(Id(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(xt.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(t,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Fi],"readwrite").objectStore(Fi),u=r.createCompositeKey(t);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(Id(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(xt.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(t){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Fi],"readwrite").objectStore(Fi),c=n.createCompositeKey(t);try{const u=a.delete(c);u.onerror=l=>{o(Id(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(xt.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class A9{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return g(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),o=yield n;o&&(t.lastFetchStatus=o);const s=yield r;s&&(t.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function R9(){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(){if(!Ri())return!1;try{return yield nc()}catch{return!1}})).apply(this,arguments)}!function M9(){wt(new ct("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xt.create("registration-window");if(!Ri())throw xt.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw xt.create("registration-project-id");if(!s)throw xt.create("registration-api-key");if(!a)throw xt.create("registration-app-id");const c=new S9(a,r.name,n=n||"firebase"),u=new A9(c),l=new fs($_);l.logLevel=ue.ERROR;const d=new _9(i,ki,n,o,s,a),f=new I9(d,c),h=new g9(f,c,u,l),p=new C9(r,h,u,c,l);return function f9(e){const t=Fn(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Me($_,"0.4.4"),Me($_,"0.4.4","esm2017")}();const N9=(e,t)=>t.some(n=>e instanceof n);let uN,lN;const dN=new WeakMap,G_=new WeakMap,fN=new WeakMap,q_=new WeakMap,K_=new WeakMap;let Y_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return G_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function U9(e){return"function"==typeof e?function F9(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function x9(){return lN||(lN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Q_(this),t),gr(dN.get(this))}:function(...t){return gr(e.apply(Q_(this),t))}:function(t,...n){const r=e.call(Q_(this),t,...n);return fN.set(r,t.sort?t.sort():[t]),gr(r)}}(e):(e instanceof IDBTransaction&&function O9(e){if(G_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});G_.set(e,t)}(e),N9(e,function P9(){return uN||(uN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Y_):e)}function gr(e){if(e instanceof IDBRequest)return function k9(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(gr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&dN.set(n,e)}).catch(()=>{}),K_.set(t,e),t}(e);if(q_.has(e))return q_.get(e);const t=U9(e);return t!==e&&(q_.set(e,t),K_.set(t,e)),t}const Q_=e=>K_.get(e);function hN(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=gr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(gr(s.result),c.oldVersion,c.newVersion,gr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Z_(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),gr(n).then(()=>{})}const j9=["get","getKey","getAll","getAllKeys","count"],$9=["put","add","delete","clear"],J_=new Map;function pN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(J_.get(t))return J_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!j9.includes(n))return;const o=function(){var s=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return J_.set(t,o),o}!function L9(e){Y_=e(Y_)}(e=>({...e,get:(t,n,r)=>pN(t,n)||e.get(t,n,r),has:(t,n)=>!!pN(t,n)||e.has(t,n)}));const B9="/firebase-messaging-sw.js",V9="/firebase-cloud-messaging-push-scope",gN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",H9="https://fcmregistrations.googleapis.com/v1",mN="google.c.a.c_id",z9="google.c.a.c_l",W9="google.c.a.ts";var Ed=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(Ed||{});function mr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function K9(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const X_="fcm_token_details_db",Y9=5,_N="fcm_token_object_Store";function ey(){return ey=g(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(X_))return null;let t=null;return(yield hN(X_,Y9,{upgrade:(r=g(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(_N))return;const u=a.objectStore(_N),l=yield u.index("fcmSenderId").get(e);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:mr(d.vapidKey)}}}else if(3===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:mr(d.auth),p256dh:mr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:mr(d.vapidKey)}}}else if(4===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:mr(d.auth),p256dh:mr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:mr(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Z_(X_),yield Z_("fcm_vapid_details_db"),yield Z_("undefined"),function Z9(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),ey.apply(this,arguments)}const J9="firebase-messaging-database",X9=1,Ui="firebase-messaging-store";let ty=null;function ny(){return ty||(ty=hN(J9,X9,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Ui)}})),ty}function yN(e){return ry.apply(this,arguments)}function ry(){return ry=g(function*(e){const t=ay(e),r=yield(yield ny()).transaction(Ui).objectStore(Ui).get(t);if(r)return r;{const i=yield function Q9(e){return ey.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield iy(e,i),i}}),ry.apply(this,arguments)}function iy(e,t){return oy.apply(this,arguments)}function oy(){return(oy=g(function*(e,t){const n=ay(e),i=(yield ny()).transaction(Ui,"readwrite");return yield i.objectStore(Ui).put(t,n),yield i.done,t})).apply(this,arguments)}function sy(){return(sy=g(function*(e){const t=ay(e),r=(yield ny()).transaction(Ui,"readwrite");yield r.objectStore(Ui).delete(t),yield r.done})).apply(this,arguments)}function ay({appConfig:e}){return e.appId}const rt=new Ln("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nq(e,t){return cy.apply(this,arguments)}function cy(){return(cy=g(function*(e,t){const n=yield fy(e),r=IN(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(dy(e.appConfig),i)).json()}catch(s){throw rt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw rt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw rt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function uy(){return(uy=g(function*(e,t){const n=yield fy(e),r=IN(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${dy(e.appConfig)}/${t.token}`,i)).json()}catch(s){throw rt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw rt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw rt.create("token-update-no-token");return o.token})).apply(this,arguments)}function vN(e,t){return ly.apply(this,arguments)}function ly(){return(ly=g(function*(e,t){const r={method:"DELETE",headers:yield fy(e)};try{const o=yield(yield fetch(`${dy(e.appConfig)}/${t}`,r)).json();if(o.error)throw rt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw rt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function dy({projectId:e}){return`${H9}/projects/${e}/registrations`}function fy(e){return hy.apply(this,arguments)}function hy(){return(hy=g(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function IN({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==gN&&(i.web.applicationPubKey=r),i}const iq=6048e5;function py(){return py=g(function*(e){const t=yield function aq(e,t){return yy.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:mr(t.getKey("auth")),p256dh:mr(t.getKey("p256dh"))},r=yield yN(e.firebaseDependencies);if(r){if(function cq(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+iq?function sq(e,t){return my.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield vN(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return wN(e.firebaseDependencies,n)}return wN(e.firebaseDependencies,n)}),py.apply(this,arguments)}function gy(){return gy=g(function*(e){const t=yield yN(e.firebaseDependencies);t&&(yield vN(e.firebaseDependencies,t.token),yield function eq(e){return sy.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),gy.apply(this,arguments)}function my(){return my=g(function*(e,t){try{const n=yield function rq(e,t){return uy.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield iy(e.firebaseDependencies,r),n}catch(n){throw yield function EN(e){return gy.apply(this,arguments)}(e),n}}),my.apply(this,arguments)}function wN(e,t){return _y.apply(this,arguments)}function _y(){return(_y=g(function*(e,t){const r={token:yield nq(e,t),createTime:Date.now(),subscriptionOptions:t};return yield iy(e,r),r.token})).apply(this,arguments)}function yy(){return(yy=g(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:K9(t)})})).apply(this,arguments)}function CN(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function uq(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function lq(e,t){t.data&&(e.data=t.data)}(t,e),function dq(e,t){var n,r,i,o,s;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function DN(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function vy(e){return rt.create("missing-app-config-values",{valueName:e})}DN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),DN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pq{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function hq(e){if(!e||!e.options)throw vy("App Configuration Object");if(!e.name)throw vy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw vy(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Iy(){return(Iy=g(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(B9,{scope:V9}),e.swRegistration.update().catch(()=>{})}catch(t){throw rt.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function Ey(){return(Ey=g(function*(e,t){if(!t&&!e.swRegistration&&(yield function bN(e){return Iy.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function wy(){return(wy=g(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=gN)})).apply(this,arguments)}function Cy(){return Cy=g(function*(e,t){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield function mq(e,t){return wy.apply(this,arguments)}(e,t?.vapidKey),yield function gq(e,t){return Ey.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function oq(e){return py.apply(this,arguments)}(e)}),Cy.apply(this,arguments)}function Dy(){return(Dy=g(function*(e,t,n){const r=function yq(e){switch(e){case Ed.NOTIFICATION_CLICKED:return"notification_open";case Ed.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[mN],message_name:n[z9],message_time:n[W9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function by(){return by=g(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Ed.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(CN(n)):e.onMessageHandler.next(CN(n)));const r=n.data;(function fq(e){return"object"==typeof e&&!!e&&mN in e})(r)&&"1"===r["google.c.a.e"]&&(yield function _q(e,t,n){return Dy.apply(this,arguments)}(e,n.messageType,r))}),by.apply(this,arguments)}const SN="@firebase/messaging",Iq=e=>{const t=new pq(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function vq(e,t){return by.apply(this,arguments)}(t,n)),t},Eq=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function TN(e,t){return Cy.apply(this,arguments)}(t,r)}};function MN(){return Ty.apply(this,arguments)}function Ty(){return(Ty=g(function*(){try{yield nc()}catch{return!1}return typeof window<"u"&&Ri()&&Vm()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wq(){wt(new ct("messaging",Iq,"PUBLIC")),wt(new ct("messaging-internal",Eq,"PRIVATE")),Me(SN,"0.12.4"),Me(SN,"0.12.4","esm2017")}();const wd="analytics",bq="firebase_id",Tq="origin",Sq=6e4,Aq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",My="https://www.googletagmanager.com/gtag/js",ze=new fs("@firebase/analytics"),Ct=new Ln("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rq(e){if(!e.startsWith(My)){const t=Ct.create("invalid-gtag-resource",{gtagURL:e});return ze.warn(t.message),""}return e}function RN(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Ry(){return(Ry=g(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const c=(yield RN(n)).find(u=>u.measurementId===i);c&&(yield t[c.appId])}}catch(a){ze.error(a)}e("config",i,o)})).apply(this,arguments)}function Ny(){return(Ny=g(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield RN(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&t[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){ze.error(o)}})).apply(this,arguments)}const jq=30,NN=new class Bq{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Vq(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Py(){return(Py=g(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Vq(r)},o=Aq.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(t=c.error)&&void 0!==t&&t.message&&(a=c.error.message)}catch{}throw Ct.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function xy(){return(xy=g(function*(e,t=NN,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Ct.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ct.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qq;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Sq),PN({appId:r,apiKey:i,measurementId:o},s,a,t)})).apply(this,arguments)}function PN(e,t,n){return ky.apply(this,arguments)}function ky(){return ky=g(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=NN){var o;const{appId:s,measurementId:a}=e;try{yield function Wq(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ct.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Hq(e){return Py.apply(this,arguments)}(e);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Gq(e){if(!(e instanceof _n&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u)){if(i.deleteThrottleMetadata(s),a)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?Wm(n,i.intervalMillis,jq):Wm(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),ze.debug(`Calling attemptFetch again in ${l} millis`),PN(e,d,r,i)}}),ky.apply(this,arguments)}class qq{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Oy,Vy;function Ly(){return(Ly=g(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const o=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function Hy(){return(Hy=g(function*(){if(!Ri())return ze.warn(Ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield nc()}catch(e){return ze.warn(Ct.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0})).apply(this,arguments)}function zy(){return zy=g(function*(e,t,n,r,i,o,s){var a;const c=function zq(e){return xy.apply(this,arguments)}(e);c.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ze.error(h)),t.push(c);const u=function eK(){return Hy.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Uq(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(My)&&n.src.includes(e))return n;return null})(o)||function Pq(e,t){const n=function Nq(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Rq}),r=document.createElement("script"),i=`${My}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),Vy&&(i("consent","default",Vy),function xN(e){Vy=e}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[Tq]="firebase",f.update=!0,null!=d&&(f[bq]=d),i("config",l.measurementId,f),Oy&&(i("set",Oy),function kN(e){Oy=e}(void 0)),l.measurementId}),zy.apply(this,arguments)}class nK{constructor(t){this.app=t}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},ON=[];const LN={};let UN,jn,Cd="dataLayer",Wy=!1;function iK(e,t,n){!function rK(){const e=[];if(Bm()&&e.push("This is a browser extension environment."),Vm()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ct.create("invalid-analytics-context",{errorInfo:t});ze.warn(n.message)}}();const r=e.options.appId;if(!r)throw Ct.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ct.create("no-api-key");ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[r])throw Ct.create("already-exists",{id:r});if(!Wy){!function xq(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cd);const{wrappedGtag:o,gtagCore:s}=function Fq(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Lq(e,t,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function Oq(e,t,n,r,i){return Ny.apply(this,arguments)}(e,t,n,c,u)}else if("config"===s){const[c,u]=a;yield function kq(e,t,n,r,i,o){return Ry.apply(this,arguments)}(e,t,n,r,c,u)}else if("consent"===s){const[c]=a;e("consent","update",c)}else if("get"===s){const[c,u,l]=a;e("get",c,u,l)}else if("set"===s){const[c]=a;e("set",c)}else e(s,...a)}catch(c){ze.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Un,ON,LN,Cd,"gtag");jn=o,UN=s,Wy=!0}return Un[r]=function tK(e,t,n,r,i,o,s){return zy.apply(this,arguments)}(e,ON,LN,t,UN,Cd,n),new nK(e)}function sK(){return Gy.apply(this,arguments)}function Gy(){return(Gy=g(function*(){if(Bm()||!Vm()||!Ri())return!1;try{return yield nc()}catch{return!1}})).apply(this,arguments)}const jN="@firebase/analytics";!function cK(){wt(new ct(wd,(t,{options:n})=>iK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),wt(new ct("analytics-internal",function e(t){try{const n=t.getProvider(wd).getImmediate();return{logEvent:(r,i,o)=>function aK(e,t,n,r){e=Fn(e),function Kq(e,t,n,r,i){return Ly.apply(this,arguments)}(jn,Un[e.app.options.appId],t,n,r).catch(i=>ze.error(i))}(n,r,i,o)}}catch(n){throw Ct.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Me(jN,"0.10.0"),Me(jN,"0.10.0","esm2017")}();class uK extends bt{constructor(t,n){super()}schedule(t,n=0){return this}}const Dd={setInterval(e,t,...n){const{delegate:r}=Dd;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Dd;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class BN extends uK{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Dd.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Dd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,to(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const VN={now:()=>(VN.delegate||Date).now(),delegate:void 0};class ac{constructor(t,n=ac.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}ac.now=VN.now;class HN extends ac{constructor(t,n=ac.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const fK=new class dK extends HN{}(class lK extends BN{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),hK=new HN(BN),bd=new pa("7.6.1"),Ky="__angularfire_symbol__analyticsIsSupportedValue",Yy="__angularfire_symbol__analyticsIsSupported",Qy="__angularfire_symbol__remoteConfigIsSupportedValue",Zy="__angularfire_symbol__remoteConfigIsSupported",Jy="__angularfire_symbol__messagingIsSupportedValue",Xy="__angularfire_symbol__messagingIsSupported";function tv(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Yy]||(globalThis[Yy]=sK().then(e=>globalThis[Ky]=e).catch(()=>globalThis[Ky]=!1)),globalThis[Xy]||(globalThis[Xy]=MN().then(e=>globalThis[Jy]=e).catch(()=>globalThis[Jy]=!1)),globalThis[Zy]||(globalThis[Zy]=R9().then(e=>globalThis[Qy]=e).catch(()=>globalThis[Qy]=!1));const nv=(e,t)=>{const n=t?[t]:N1(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ms(){}class zN{constructor(t,n=fK){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class pK{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rv=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new zN(Zone.current)),this.insideAngular=n.run(()=>new zN(Zone.current,hK)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(N(oe))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ji(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function $i(e){return ji().ngZone.run(()=>e())}function mK(e){return ji(),function _K(e){return function(n){return(n=n.lift(new pK(e.ngZone))).pipe(Jc(e.outsideAngular),Zc(e.insideAngular))}}(ji())(e)}const yK=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),$i(()=>e.apply(void 0,r))},iv=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||(n=$i(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)))),r[o]=yK(r[o],n));const i=function gK(e){return ji().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Pe){const o=ji();return i.pipe(Jc(o.outsideAngular),Zc(o.insideAngular))}return $i(()=>i)}return i instanceof Pe?i.pipe(mK):i instanceof Promise?$i(()=>new Promise((o,s)=>i.then(a=>$i(()=>o(a)),a=>$i(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:$i(()=>i)};class _s{constructor(t){return t}}class ov{constructor(){return N1()}}const sv=new M("angularfire2._apps"),IK={provide:_s,useFactory:function vK(e){return e&&1===e.length?e[0]:new _s(e_())},deps:[[new mt,sv]]},EK={provide:ov,deps:[[new mt,sv]]};function wK(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new _s(r)}}let CK=(()=>{class e{constructor(n){Me("angularfire",bd.full,"core"),Me("angularfire",bd.full,"app"),Me("angular",e0.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(N(xr))},e.\u0275mod=Dn({type:e}),e.\u0275inj=sn({providers:[IK,EK]}),e})();function DK(e,...t){return{ngModule:CK,providers:[{provide:sv,useFactory:wK(e),multi:!0,deps:[oe,_t,rv,...t]}]}}const bK=iv(R1,!0),TK_firebase={projectId:"tracker-d-objects-perdus",appId:"1:659460627693:web:e0f6f8b7fe99dd5f6c80e4",databaseURL:"https://tracker-d-objects-perdus-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"tracker-d-objects-perdus.appspot.com",apiKey:"AIzaSyDYb0Y70oBNPJRnqCmvvjUEPdnh6nx8Nkk",authDomain:"tracker-d-objects-perdus.firebaseapp.com",messagingSenderId:"659460627693"},av=new Map,WN={activated:!1,tokenObservers:[]},SK={initialized:!1,enabled:!1};function Re(e){return av.get(e)||Object.assign({},WN)}function Td(){return SK}const cv="https://content-firebaseappcheck.googleapis.com/v1",NK="exchangeDebugToken",GN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xK{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return g(function*(){n.stop();try{n.pending=new ls,yield function kK(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new ls,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const it=new Ln("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uv(e){if(!Re(e).activated)throw it.create("use-before-activation",{appName:e.name})}function Md(e,t){return dv.apply(this,arguments)}function dv(){return(dv=g(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=yield fetch(e,o)}catch(d){throw it.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw it.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw it.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw it.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function qN(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${cv}/projects/${n}/apps/${r}:${NK}?key=${i}`,body:{debug_token:t}}}const UK="firebase-app-check-database",jK=1,cc="firebase-app-check-store";let Rd=null;function fv(){return(fv=g(function*(e,t){const r=(yield function YN(){return Rd||(Rd=new Promise((e,t)=>{try{const n=indexedDB.open(UK,jK);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(it.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cc,{keyPath:"compositeKey"})}}catch(n){t(it.create("storage-open",{originalErrorMessage:n?.message}))}}),Rd)}()).transaction(cc,"readwrite"),o=r.objectStore(cc).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(it.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const uc=new fs("@firebase/app-check");function gv(e,t){return Ri()?function BK(e,t){return function QN(e,t){return fv.apply(this,arguments)}(function JN(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{uc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function _v(){return Td().enabled}function yv(){return vv.apply(this,arguments)}function vv(){return(vv=g(function*(){const e=Td();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qK={error:"UNKNOWN_ERROR"};function KK(e){return ad.encodeString(JSON.stringify(e),!1)}function Nd(e){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(e,t=!1){const n=e.app;uv(n);const r=Re(n);let o,i=r.token;if(i&&!ys(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(ys(c)?i=c:yield gv(n,void 0))}if(!t&&i&&ys(i))return{token:i.token};let a,s=!1;if(_v()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Md(qN(n,yield yv()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield gv(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Re(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?uc.warn(c.message):uc.error(c),o=c}return i?o?a=ys(i)?{token:i.token,internalError:o}:nP(o):(a={token:i.token},r.token=i,yield gv(n,i)):a=nP(o),s&&function tP(e,t){const n=Re(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function XN(e){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(e){const t=e.app;uv(t);const{provider:n}=Re(t);if(_v()){const r=yield yv(),{token:i}=yield Md(qN(t,r),e.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Cv(e,t){const n=Re(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eP(e){const{app:t}=e,n=Re(t);let r=n.tokenRefresher;r||(r=function YK(e){const{app:t}=e;return new xK(g(function*(){let r;if(r=Re(t).token?yield Nd(e,!0):yield Nd(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Re(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},GN.RETRIAL_MIN_WAIT,GN.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ys(e){return e.expireTimeMillis-Date.now()>0}function nP(e){return{token:KK(qK),error:e}}class QK{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Re(this.app);for(const n of t)Cv(this.app,n.next);return Promise.resolve()}}const lP="app-check-internal";!function lY(){wt(new ct("app-check",e=>function ZK(e,t){return new QK(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(lP).initialize()})),wt(new ct(lP,e=>function JK(e){return{getToken:t=>Nd(e,t),getLimitedUseToken:()=>XN(e),addTokenListener:t=>function wv(e,t,n,r){const{app:i}=e,o=Re(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:t}],o.token&&ys(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),eP(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eP(e))}(e,"INTERNAL",t),removeTokenListener:t=>Cv(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Me("@firebase/app-check","0.8.0")}();class Sv{constructor(){return nv("app-check")}}typeof window<"u"&&window;const gY=function fP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hP=new Ln("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xd=new fs("@firebase/auth");function kd(e,...t){xd.logLevel<=ue.ERROR&&xd.error(`Auth (${ki}): ${e}`,...t)}function kt(e,...t){throw Mv(e,...t)}function $n(e,...t){return Mv(e,...t)}function Mv(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return hP.create(e,...t)}function w(e,t,...n){if(!e)throw Mv(t,...n)}function Bn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kd(t),new Error(t)}function Gr(e,t){e||Bn(t)}function lc(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gP(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class dc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gr(n>t,"Short delay should be less than long delay!"),this.isMobile=$m()||E1()}get(){return function _Y(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Rv(){return"http:"===gP()||"https:"===gP()}()||Bm()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nv(e,t){Gr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mP{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},IY=new dc(3e4,6e4);function be(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ne(e,t,n,r){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(e,t,n,r,i={}){return _P(e,i,g(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=ic(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),mP.fetch()(yP(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function _P(e,t,n){return xv.apply(this,arguments)}function xv(){return(xv=g(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},vY),t);try{const i=new EY(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw fc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw fc(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw fc(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw fc(e,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function pP(e,t,n){const r=Object.assign(Object.assign({},gY()),{[t]:n});return new Ln("auth","Firebase",r).create(t,{appName:e.name})}(e,l,u);kt(e,l)}}catch(i){if(i instanceof _n)throw i;kt(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function kv(){return(kv=g(function*(e,t,n,r,i={}){const o=yield Ne(e,t,n,r,i);return"mfaPendingCredential"in o&&kt(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function yP(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Nv(e.config,i):`${e.config.apiScheme}://${i}`}class EY{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),IY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$n(e,t,r);return i.customData._tokenResponse=n,i}function Ov(){return(Ov=g(function*(e,t){return Ne(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Fv(){return(Fv=g(function*(e,t){return Ne(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function hc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Uv(){return(Uv=g(function*(e,t=!1){const n=Fn(e),r=yield n.getIdToken(t),i=Od(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hc(jv(i.auth_time)),issuedAtTime:hc(jv(i.iat)),expirationTime:hc(jv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function jv(e){return 1e3*Number(e)}function Od(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ud(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yr(e,t){return $v.apply(this,arguments)}function $v(){return($v=g(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof _n&&function SY({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class AY{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var t=this;return g(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class vP{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pc(e){return Bv.apply(this,arguments)}function Bv(){return Bv=g(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield yr(e,function DY(e,t){return Fv.apply(this,arguments)}(n,{idToken:r}));w(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function NY(e){return e.map(t=>{var{providerId:n}=t,r=$f(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function RY(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),l=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vP(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,d)}),Bv.apply(this,arguments)}function Vv(){return(Vv=g(function*(e){const t=Fn(e);yield pc(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Hv(){return(Hv=g(function*(e,t){const n=yield _P(e,{},g(function*(){const r=ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yP(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mP.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){w(t.idToken,"internal-error"),w(typeof t.idToken<"u","internal-error"),w(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function TY(e){const t=Od(e);return w(t,"internal-error"),w(typeof t.exp<"u","internal-error"),w(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return g(function*(){return w(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function PY(e,t){return Hv.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new gc;return r&&(w("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(w("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(w("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Bn("not implemented")}}function qr(e,t){w("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=$f(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vP(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return g(function*(){const r=yield yr(n,n.stsTokenManager.getToken(n.auth,t));return w(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function bY(e){return Uv.apply(this,arguments)}(this,t)}reload(){return function MY(e){return Vv.apply(this,arguments)}(this)}_assign(t){this!==t&&(w(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return g(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield pc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return g(function*(){const n=yield t.getIdToken();return yield yr(t,function wY(e,t){return Ov.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:R,isAnonymous:G,providerData:Ke,stsTokenManager:rn}=n;w(T&&rn,t,"internal-error");const si=gc.fromJSON(this.name,rn);w("string"==typeof T,t,"internal-error"),qr(d,t.name),qr(f,t.name),w("boolean"==typeof R,t,"internal-error"),w("boolean"==typeof G,t,"internal-error"),qr(h,t.name),qr(p,t.name),qr(m,t.name),qr(y,t.name),qr(v,t.name),qr(_,t.name);const eo=new Bi({uid:T,auth:t,email:f,emailVerified:R,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:si,createdAt:v,lastLoginAt:_});return Ke&&Array.isArray(Ke)&&(eo.providerData=Ke.map(Gw=>Object.assign({},Gw))),y&&(eo._redirectEventId=y),eo}static _fromIdTokenResponse(t,n,r=!1){return g(function*(){const i=new gc;i.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield pc(o),o})()}}const IP=new Map;function vr(e){Gr(e instanceof Function,"Expected a class definition");let t=IP.get(e);return t?(Gr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,IP.set(e,t),t)}const EP=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Ld(e,t,n){return`firebase:${e}:${t}:${n}`}class Is{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ld("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return g(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?Bi._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return g(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return g(function*(){if(!n.length)return new Is(vr(EP),t,r);const i=(yield Promise.all(n.map(function(){var u=g(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||vr(EP);const s=Ld(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Bi._fromJSON(t,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Is(o,t,r)):new Is(o,t,r)})()}}function wP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bP(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CP(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SP(t))return"Blackberry";if(AP(t))return"Webos";if(zv(t))return"Safari";if((t.includes("chrome/")||DP(t))&&!t.includes("edge/"))return"Chrome";if(TP(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function CP(e=He()){return/firefox\//i.test(e)}function zv(e=He()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DP(e=He()){return/crios\//i.test(e)}function bP(e=He()){return/iemobile/i.test(e)}function TP(e=He()){return/android/i.test(e)}function SP(e=He()){return/blackberry/i.test(e)}function AP(e=He()){return/webos/i.test(e)}function Fd(e=He()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function MP(e=He()){return Fd(e)||TP(e)||AP(e)||SP(e)||/windows phone/i.test(e)||bP(e)}function RP(e,t=[]){let n;switch(e){case"Browser":n=wP(He());break;case"Worker":n=`${wP(He())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}function NP(e,t){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*(e,t){return Ne(e,"GET","/v2/recaptchaConfig",be(e,t))})).apply(this,arguments)}function xP(e){return void 0!==e&&void 0!==e.enterprise}class kP{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function qv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=$n("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function FY(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function OP(e){return`__${e}${Math.floor(1e6*Math.random())}`}class LP{constructor(t){this.type="recaptcha-enterprise",this.auth=We(t)}verify(t="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=g(function*(u,l){NP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new kP(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,u(f.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;xP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&xP(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));qv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class BY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return g(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class VY{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FP(this),this.idTokenSubscription=new FP(this),this.beforeStateQueue=new BY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Is.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return g(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(t);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return w(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return g(function*(){try{yield pc(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function yY(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return g(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return g(function*(){const r=t?Fn(t):null;return r&&w(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return g(function*(){if(!r._deleted)return t&&w(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(g(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return g(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(vr(t))}))}initializeRecaptchaConfig(){var t=this;return g(function*(){const n=yield NP(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new kP(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.emailPasswordEnabled&&new LP(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ln("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=t&&vr(t)||n._popupRedirectResolver;w(r,n,"argument-error"),n.redirectPersistenceManager=yield Is.create(n,[vr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return g(function*(){if(t===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return g(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return g(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return g(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function mY(e,...t){xd.logLevel<=ue.WARN&&xd.warn(`Auth (${ki}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function We(e){return Fn(e)}class FP{constructor(t){this.auth=t,this.observer=null,this.addObserver=function qW(e,t){const n=new KW(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function UP(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class KY{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(t){return Bn("not implemented")}_linkToIdToken(t,n){return Bn("not implemented")}_getReauthenticationResolver(t){return Bn("not implemented")}}function Ir(e,t){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(e,t){return function _r(e,t,n,r){return kv.apply(this,arguments)}(e,"POST","/v1/accounts:signInWithIdp",be(e,t))})).apply(this,arguments)}class Yr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class cQ extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return g(function*(){const o=yield Bi._fromIdTokenResponse(t,r,i),s=HP(r);return new tn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return g(function*(){yield t._updateTokensIfNecessary(r,!0);const i=HP(r);return new tn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function HP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vd extends _n{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Vd(t,n,r,i)}}function zP(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Vd._fromErrorAndOperation(e,o,t,r):o})}function II(){return(II=g(function*(e,t,n=!1){const r=yield yr(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return tn._forOperation(e,"link",r)})).apply(this,arguments)}function wI(){return(wI=g(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield yr(e,zP(r,i,t,e),n);w(o.idToken,r,"internal-error");const s=Od(o.idToken);w(s,r,"internal-error");const{sub:a}=s;return w(e.uid===a,r,"user-mismatch"),tn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&kt(r,"user-mismatch"),o}})).apply(this,arguments)}function CI(){return(CI=g(function*(e,t,n=!1){const r="signIn",i=yield zP(e,r,t),o=yield tn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}const zd="__sak";class YP{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const NQ=(()=>{class e extends YP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function AQ(){const e=He();return zv(e)||Fd(e)}()&&function OY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=MP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function kY(){return function $W(){const e=He();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),QP=(()=>{class e extends YP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let xQ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=g(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),l=yield function PQ(e){return Promise.all(e.map(function(){var t=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function XI(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class kQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=XI("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Fe(){return window}function eE(){return typeof Fe().WorkerGlobalScope<"u"&&"function"==typeof Fe().importScripts}function tE(){return(tE=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ZP="firebaseLocalStorageDb",Wd="firebaseLocalStorage",JP="fbase_key";class vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gd(e,t){return e.transaction([Wd],t?"readwrite":"readonly").objectStore(Wd)}function nE(){const e=indexedDB.open(ZP,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Wd,{keyPath:JP})}catch(i){n(i)}}),e.addEventListener("success",g(function*(){const r=e.result;r.objectStoreNames.contains(Wd)?t(r):(r.close(),yield function $Q(){const e=indexedDB.deleteDatabase(ZP);return new vc(e).toPromise()}(),t(yield nE()))}))})}function XP(e,t,n){return rE.apply(this,arguments)}function rE(){return(rE=g(function*(e,t,n){const r=Gd(e,!0).put({[JP]:t,value:n});return new vc(r).toPromise()})).apply(this,arguments)}function iE(){return(iE=g(function*(e,t){const n=Gd(e,!1).get(t),r=yield new vc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function ex(e,t){const n=Gd(e,!0).delete(t);return new vc(n).toPromise()}const zQ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield nE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return eE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=xQ._getInstance(function UQ(){return eE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function LQ(){return tE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new kQ(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function FQ(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield nE();return yield XP(n,zd,"1"),yield ex(n,zd),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>XP(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function BQ(e,t){return iE.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>ex(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Gd(s,!1).getAll();return new vc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();OP("rcb"),new dc(3e4,6e4);class hE extends KY{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ir(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ir(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ir(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sZ(e){return function qP(e,t){return CI.apply(this,arguments)}(e.auth,new hE(e),e.bypassAuthState)}function aZ(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),function GP(e,t){return wI.apply(this,arguments)}(n,new hE(e),e.bypassAuthState)}function cZ(e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),function vI(e,t){return II.apply(this,arguments)}(n,new hE(e),e.bypassAuthState)})).apply(this,arguments)}class uZ{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=g(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sZ;case"linkViaPopup":case"linkViaRedirect":return cZ;case"reauthViaPopup":case"reauthViaRedirect":return aZ;default:kt(this.auth,"internal-error")}}resolve(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new dc(2e3,1e4);const lZ="pendingRedirect",Ic=new Map;class dZ extends uZ{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return g(function*(){let r=Ic.get(n.auth._key());if(!r){try{const o=(yield function fZ(e,t){return vE.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Ic.set(n.auth._key(),r)}return n.bypassAuthState||Ic.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function vE(){return(vE=g(function*(e,t){const n=function rx(e){return Ld(lZ,e.config.apiKey,e.name)}(t),r=function nx(e){return vr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function hZ(e,t){Ic.set(e._key(),t)}function ix(e,t){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(e,t,n=!1){const r=We(e),i=function Hi(e,t){return t?vr(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new dZ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class yZ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function vZ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ax(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!ax(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(t))}saveEventToCache(t){this.cachedEventUids.add(sx(t)),this.lastProcessedEventTime=Date.now()}}function sx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ax({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function AE(){return(AE=g(function*(e,t={}){return Ne(e,"GET","/v1/projects",t)})).apply(this,arguments)}const EZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wZ=/^https?/;function ME(){return ME=g(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function IZ(e){return AE.apply(this,arguments)}(e);for(const n of t)try{if(DZ(n))return}catch{}kt(e,"unauthorized-domain")}),ME.apply(this,arguments)}function DZ(e){const t=lc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!wZ.test(n))return!1;if(EZ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bZ=new dc(3e4,6e4);function cx(){const e=Fe().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Kd=null;const AZ=new dc(5e3,15e3),MZ="__/auth/iframe",RZ="emulator/auth/iframe",NZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xZ(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nv(t,RZ):`https://${e.config.authDomain}/${MZ}`,r={apiKey:t.apiKey,appName:e.name,v:ki},i=PZ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ic(r).slice(1)}`}function RE(){return RE=g(function*(e){const t=yield function SZ(e){return Kd=Kd||function TZ(e){return new Promise((t,n)=>{var r,i,o;function s(){cx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cx(),n($n(e,"network-request-failed"))},timeout:bZ.get()})}if(null!==(i=null===(r=Fe().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Fe().gapi)||void 0===o||!o.load){const a=OP("iframefcb");return Fe()[a]=()=>{gapi.load?s():n($n(e,"network-request-failed"))},qv(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(t=>{throw Kd=null,t})}(e),Kd}(e),n=Fe().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:xZ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NZ,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=$n(e,"network-request-failed"),c=Fe().setTimeout(()=>{s(a)},AZ.get());function u(){Fe().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),RE.apply(this,arguments)}const OZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ux{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const VZ="__/auth/handler",HZ="emulator/auth/handler",zZ=encodeURIComponent("fac");function lx(e,t,n,r,i,o){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(e,t,n,r,i,o){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ki,eventId:i};if(t instanceof Yr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Hm(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(t instanceof cQ){const l=t.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield e._getAppCheckToken(),u=c?`#${zZ}=${encodeURIComponent(c)}`:"";return`${function WZ({config:e}){return e.emulator?Nv(e,HZ):`https://${e.authDomain}/${VZ}`}(e)}?${ic(a).slice(1)}${u}`})).apply(this,arguments)}const PE="webStorageSupport",qZ=class GZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QP,this._completeRedirectFn=ix,this._overrideRedirectResult=hZ}_openPopup(t,n,r,i){var o=this;return g(function*(){var s;Gr(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield lx(t,n,r,lc(),i);return function $Z(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},OZ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=He().toLowerCase();n&&(a=DP(u)?"_blank":n),CP(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function xY(e=He()){var t;return Fd(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(u)&&"_self"!==a)return function BZ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ux(null);const d=window.open(t||"",a,l);w(d,e,"popup-blocked");try{d.focus()}catch{}return new ux(d)}(t,a,XI())})()}_openRedirect(t,n,r,i){var o=this;return g(function*(){return yield o._originValidation(t),function OQ(e){Fe().location.href=e}(yield lx(t,n,r,lc(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return g(function*(){const r=yield function kZ(e){return RE.apply(this,arguments)}(t),i=new yZ(t);return r.register("authEvent",o=>(w(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(PE,{type:PE},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[PE];void 0!==s&&n(!!s),kt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function CZ(e){return ME.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return MP()||zv()||Fd()}};var hx="@firebase/auth";class KZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const JZ=I1("authIdTokenMaxAge")||300;let gx=null;const XZ=e=>function(){var t=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>JZ)return;const o=r?.token;gx!==o&&(gx=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function eJ(e=e_()){const t=hs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function HY(e,t){const n=hs(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(hd(n.getOptions(),t??{}))return i;kt(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:qZ,persistence:[zQ,NQ,QP]}),r=I1("authTokenSyncURL");if(r){const o=XZ(r);(function CQ(e,t,n){Fn(e).beforeAuthStateChanged(t,n)})(n,o,()=>o(n.currentUser)),function wQ(e,t,n,r){Fn(e).onIdTokenChanged(t,n,r)}(n,s=>o(s))}const i=y1("auth");return i&&function WY(e,t,n){const r=We(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=UP(t),{host:s,port:a}=function GY(e){const t=UP(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:jP(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:jP(s)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function qY(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function QZ(e){wt(new ct("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;w(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RP(e)},u=new VY(r,i,o,c);return function zY(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wt(new ct("auth-internal",t=>{const n=We(t.getProvider("auth").getImmediate());return new KZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(hx,"0.23.2",function YZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),Me(hx,"0.23.2","esm2017")}("Browser");class kE{constructor(t){return t}}class _x{constructor(){return nv("auth")}}const OE=new M("angularfire2.auth-instances");function nJ(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new kE(r)}}const rJ={provide:_x,deps:[[new mt,OE]]},iJ={provide:kE,useFactory:function tJ(e,t){const n=tv("auth",e,t);return n&&new kE(n)},deps:[[new mt,OE],_s]};let oJ=(()=>{class e{constructor(){Me("angularfire",bd.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=sn({providers:[iJ,rJ]}),e})();function sJ(e,...t){return{ngModule:oJ,providers:[{provide:OE,useFactory:nJ(e),multi:!0,deps:[oe,_t,rv,ov,[new mt,Sv],...t]}]}}const aJ=iv(eJ,!0),yx="@firebase/database";let LE="";class uJ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),nt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:rc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return fr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ix=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new uJ(t)}}catch{}return new lJ},zi=Ix("localStorage"),FE=Ix("sessionStorage"),ws=new fs("@firebase/database"),Ex=function(){let e=1;return function(){return e++}}(),wx=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,C(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new GW;n.update(t);const r=n.digest();return ad.encodeByteArray(r)},Ec=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ec.apply(null,r):t+="object"==typeof r?nt(r):r,t+=" "}return t};let Wi=null,Cx=!0;const Ge=function(...e){if(!0===Cx&&(Cx=!1,null===Wi&&!0===FE.get("logging_enabled")&&function(e,t){C(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ws.logLevel=ue.VERBOSE,Wi=ws.log.bind(ws),t&&FE.set("logging_enabled",!0)):"function"==typeof e?Wi=e:(Wi=null,FE.remove("logging_enabled"))}(!0)),Wi){const t=Ec.apply(null,e);Wi(t)}},wc=function(e){return function(...t){Ge(e,...t)}},UE=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ec(...e);ws.error(t)},Vn=function(...e){const t=`FIREBASE FATAL ERROR: ${Ec(...e)}`;throw ws.error(t),new Error(t)},ut=function(...e){const t="FIREBASE WARNING: "+Ec(...e);ws.warn(t)},Qd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Qr="[MIN_NAME]",Er="[MAX_NAME]",Gi=function(e,t){if(e===t)return 0;if(e===Qr||t===Er)return-1;if(t===Qr||e===Er)return 1;{const n=Sx(e),r=Sx(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},hJ=function(e,t){return e===t?0:e<t?-1:1},Cc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+nt(t))},jE=function(e){if("object"!=typeof e||null===e)return nt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=nt(t[r]),n+=":",n+=jE(e[t[r]]);return n+="}",n},bx=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Tx=function(e){C(!Qd(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(c=52;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const l=u.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(l.substr(c,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},_J=new RegExp("^-?(0*)\\d{1,10}$"),Sx=function(e){if(_J.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Cs=function(e){try{e()}catch(t){setTimeout(()=>{throw ut("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Dc=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class EJ{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wJ{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(t)}}let bc=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const Px=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ox="websocket",Lx="long_polling";class BE{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Fx(e,t,n){let r;if(C("string"==typeof t,"typeof type must == string"),C("object"==typeof n,"typeof params must == object"),t===Ox)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Lx)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function CJ(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return qe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class DJ{constructor(){this.counters_={}}incrementCounter(t,n=1){fr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return NW(this.counters_)}}const VE={},HE={};function zE(e){const t=e.toString();return VE[t]||(VE[t]=new DJ),VE[t]}class TJ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Zr{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wc(t),this.stats_=zE(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),Fx(n,Lx,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TJ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new WE((...o)=>{const[s,a,c,u,l]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Px.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zr.forceAllow_=!0}static forceDisallow(){Zr.forceDisallow_=!0}static isAvailable(){return!(!Zr.forceAllow_&&(Zr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=m1(n),i=bx(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=nt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class WE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ex(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=WE.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ge("frame writing exception"),a.stack&&Ge(a.stack),Ge(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ge("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ge("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Jd=null;typeof MozWebSocket<"u"?Jd=MozWebSocket:typeof WebSocket<"u"&&(Jd=WebSocket);let Ds=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wc(this.connId),this.stats_=zE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&Px.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),Fx(n,Ox,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Jd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Jd&&!e.forceDisallow_}static previouslyFailed(){return zi.isInMemoryStorage||!0===zi.get("previous_websocket_failure")}markConnectionHealthy(){zi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=rc(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=nt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=bx(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),zx=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Zr,Ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Ds&&Ds.isAvailable();let i=r&&!Ds.previouslyFailed();if(n.webSocketOnly&&(r||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ds];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class Zx{constructor(t,n,r,i,o,s,a,c,u,l){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wc("c:"+this.id+":"),this.transportManager_=new zx(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Cc("t",t),r=Cc("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Cc("t",t),r=Cc("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Cc("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?UE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):UE("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jx{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class Xx{constructor(t){this.allowedEvents_=t,this.listeners_={},C(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){C(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Xd extends Xx{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$m()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xd}getInitialEvent(t){return C("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class se{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function te(){return new se("")}function z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Jr(e){return e.pieces_.length-e.pieceNum_}function fe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new se(e.pieces_,t)}function qE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Tc(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function nk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new se(t,0)}function Ce(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof se)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function Dt(e,t){const n=z(e),r=z(t);if(null===n)return t;if(n===r)return Dt(fe(e),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function KE(e,t){if(Jr(e)!==Jr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Jr(e)>Jr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class YJ{constructor(t,n){this.errorPrefix_=n,this.parts_=Tc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gd(this.parts_[r]);rk(this)}}function rk(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qi(e))}function qi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class YE extends Xx{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YE}getInitialEvent(t){return C("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Sc=1e3;let tf,Ki=(()=>{class e extends Jx{constructor(n,r,i,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=wc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YE.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Xd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(nt(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new ls,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const u=c.d,l=c.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==l&&this.removeListen_(i,o),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&fr(n,"w")){const i=ds(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=dd(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=dd(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+nt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):UE("Unrecognized action received from server: "+nt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return g(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,u=null;const l=function(){u?u.close():(c=!0,o())};n.realtime_={close:l,sendRequest:function(h){C(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);c?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,u=new Zx(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,m=>{ut(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),c||(n.repoInfo_.nodeAdmin&&ut(h),l())}}})()}interrupt(n){Ge("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ge("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Hm(this.interruptReasons_)&&(this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>jE(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new se(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ge("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ge("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+LE.replace(/\./g,"-")]=1,$m()?n["framework.cordova"]=1:E1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Xd.getInstance().currentlyOnline();return Hm(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class q{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new q(t,n)}}class ef{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new q(Qr,t),i=new q(Qr,n);return 0!==this.compare(r,i)}minPost(){return q.MIN}}class sk extends ef{static get __EMPTY_NODE(){return tf}static set __EMPTY_NODE(t){tf=t}compare(t,n){return Gi(t.name,n.name)}isDefinedOn(t){throw us("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return q.MIN}maxPost(){return new q(Er,tf)}makePost(t,n){return C("string"==typeof t,"KeyIndex indexValue must always be a string."),new q(t,tf)}toString(){return".key"}}const Hn=new sk;class nf{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ZE,yn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ot.EMPTY_NODE,this.right=s??Ot.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ot.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Ot{constructor(t,n=Ot.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ot(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,yn.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new nf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new nf(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new nf(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new nf(this.root_,null,this.comparator_,!0,t)}}function rX(e,t){return Gi(e.name,t.name)}function QE(e,t){return Gi(e,t)}Ot.EMPTY_NODE=new class nX{copy(t,n,r,i,o){return this}insert(t,n,r){return new yn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ak=function(e){return"number"==typeof e?"number:"+Tx(e):"string:"+e},ck=function(e){if(e.isLeafNode()){const t=e.val();C("string"==typeof t||"number"==typeof t||"object"==typeof t&&fr(t,".sv"),"Priority must be a string or number.")}else C(e===ZE||e.isEmpty(),"priority of unexpected type.");C(e===ZE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let uk,lk,dk,bs=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ck(this.priorityNode_)}static set __childrenNodeConstructor(n){uk=n}static get __childrenNodeConstructor(){return uk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:".priority"===z(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=z(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(C(".priority"!==i||1===Jr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ak(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?Tx(this.value_):this.value_,this.lazyHash_=wx(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const ye=new class aX extends ef{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Gi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return q.MIN}maxPost(){return new q(Er,new bs("[PRIORITY-POST]",dk))}makePost(t,n){const r=lk(t);return new q(n,new bs("[PRIORITY-POST]",r))}toString(){return".priority"}},cX=Math.log(2);class uX{constructor(t){this.count=parseInt(Math.log(t+1)/cX,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const rf=function(e,t,n,r){e.sort(t);const i=function(c,u){const l=u-c;let d,f;if(0===l)return null;if(1===l)return d=e[c],f=n?n(d):d,new yn(f,d.node,yn.BLACK,null,null);{const h=parseInt(l/2,10)+c,p=i(c,h),m=i(h+1,u);return d=e[h],f=n?n(d):d,new yn(f,d.node,yn.BLACK,p,m)}},a=function(c){let u=null,l=null,d=e.length;const f=function(p,m){const y=d-p,v=d;d-=p;const _=i(y+1,v),T=e[y],R=n?n(T):T;h(new yn(R,T.node,m,null,_))},h=function(p){u?(u.left=p,u=p):(l=p,u=p)};for(let p=0;p<c.count;++p){const m=c.nextBitIsOne(),y=Math.pow(2,c.count-(p+1));m?f(y,yn.BLACK):(f(y,yn.BLACK),f(y,yn.RED))}return l}(new uX(e.length));return new Ot(r||t,a)};let JE;const Ts={};class wr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return C(Ts&&ye,"ChildrenNode.ts has not been loaded"),JE=JE||new wr({".priority":Ts},{".priority":ye}),JE}get(t){const n=ds(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ot?n:null}hasIndex(t){return fr(this.indexSet_,t.toString())}addIndex(t,n){C(t!==Hn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(q.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?rf(r,t.getCompare()):Ts;const c=t.toString(),u=Object.assign({},this.indexSet_);u[c]=t;const l=Object.assign({},this.indexes_);return l[c]=a,new wr(l,u)}addToIndexes(t,n){const r=fd(this.indexes_,(i,o)=>{const s=ds(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===Ts){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(q.Wrap);let u=c.getNext();for(;u;)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),rf(a,s.getCompare())}return Ts}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new q(t.name,a))),c.insert(t,t.node)}});return new wr(r,this.indexSet_)}removeFromIndexes(t,n){const r=fd(this.indexes_,i=>{if(i===Ts)return i;{const o=n.get(t.name);return o?i.remove(new q(t.name,o)):i}});return new wr(r,this.indexSet_)}}let Ac,V=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ck(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ac||(Ac=new e(new Ot(QE),null,wr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ac}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Ac:r}}getChild(n){const r=z(n);return null===r?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new q(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Ac:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=z(n);if(null===i)return r;{C(".priority"!==z(n)||1===Jr(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ye,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+ak(this.getPriority().val())+":"),this.forEachChild(ye,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":wx(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new q(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new q(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new q(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,q.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Mc?-1:0}withIndex(n){if(n===Hn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Hn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ye),o=r.getIterator(ye);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Hn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Mc=new class lX extends V{constructor(){super(new Ot(QE),V.EMPTY_NODE,wr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return V.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(q,{MIN:{value:new q(Qr,V.EMPTY_NODE)},MAX:{value:new q(Er,Mc)}}),sk.__EMPTY_NODE=V.EMPTY_NODE,bs.__childrenNodeConstructor=V,function iX(e){ZE=e}(Mc),function sX(e){dk=e}(Mc);const dX=!0;function Te(e,t=null){if(null===e)return V.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),C(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new bs(e,Te(t));if(e instanceof Array||!dX){let n=V.EMPTY_NODE;return qe(e,(r,i)=>{if(fr(e,r)&&"."!==r.substring(0,1)){const o=Te(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Te(t))}{const n=[];let r=!1;if(qe(e,(s,a)=>{if("."!==s.substring(0,1)){const c=Te(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new q(s,c)))}}),0===n.length)return V.EMPTY_NODE;const o=rf(n,rX,s=>s.name,QE);if(r){const s=rf(n,ye.getCompare());return new V(o,Te(t),new wr({".priority":s},{".priority":ye}))}return new V(o,Te(t),wr.Default)}}!function oX(e){lk=e}(Te);class XE extends ef{constructor(t){super(),this.indexPath_=t,C(!W(t)&&".priority"!==z(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Gi(t.name,n.name):o}makePost(t,n){const r=Te(t),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new q(n,i)}maxPost(){const t=V.EMPTY_NODE.updateChild(this.indexPath_,Mc);return new q(Er,t)}toString(){return Tc(this.indexPath_,0).join("/")}}const ew=new class fX extends ef{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?Gi(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return q.MIN}maxPost(){return q.MAX}makePost(t,n){const r=Te(t);return new q(n,r)}toString(){return".value"}};function Nc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class nw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qr}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const t=new nw;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function hk(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ye?n="$priority":e.index_===ew?n="$value":e.index_===Hn?n="$key":(C(e.index_ instanceof XE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=nt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=nt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+nt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=nt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+nt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pk(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ye&&(t.i=e.index_.toString()),t}class af extends Jx{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=wc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(C(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=af.getListenId_(t,r),a={};this.listens_[s]=a;const c=hk(t._queryParams);this.restRequest_(o+".json",c,(u,l)=>{let d=l;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),ds(this.listens_,s)===a){let f;f=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(f,null)}})}unlisten(t,n){const r=af.getListenId_(t,n);delete this.listens_[r]}get(t){const n=hk(t._queryParams),r=t._path.toString(),i=new ls;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ic(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=rc(a.responseText)}catch{ut("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&ut("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class IX{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function cf(){return{value:null,children:new Map}}function As(e,t,n){if(W(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=z(t);e.children.has(r)||e.children.set(r,cf()),As(e.children.get(r),t=fe(t),n)}}function sw(e,t,n){null!==e.value?n(t,e.value):function EX(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{sw(i,new se(t.toString()+"/"+r),n)})}class wX{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class bX{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wX(t);const r=1e4+2e4*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qe(t,(i,o)=>{o>0&&fr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Dc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(zn||{});function uw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class uf{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=zn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(W(this.path)){if(null!=this.affectedTree.value)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(t));return new uf(te(),n,this.revert)}}return C(z(this.path)===t,"operationForChild called for unrelated child."),new uf(fe(this.path),this.affectedTree,this.revert)}}class Yi{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=zn.OVERWRITE}operationForChild(t){return W(this.path)?new Yi(this.source,te(),this.snap.getImmediateChild(t)):new Yi(this.source,fe(this.path),this.snap)}}class Ms{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=zn.MERGE}operationForChild(t){if(W(this.path)){const n=this.children.subtree(new se(t));return n.isEmpty()?null:n.value?new Yi(this.source,te(),n.value):new Ms(this.source,te(),n)}return C(z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ms(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;const n=z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function kc(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function MX(e,t,n){if(null==t.childName||null==n.childName)throw us("Should only compare child_ events.");const r=new q(t.childName,t.snapshotNode),i=new q(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function AX(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(c,e.query_))})})}function lf(e,t){return{eventCache:e,serverCache:t}}function Oc(e,t,n,r){return lf(new Xr(t,n,r),e.serverCache)}function mk(e,t,n,r){return lf(e.eventCache,new Xr(t,n,r))}function df(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Qi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let lw;class ve{constructor(t,n=(()=>(lw||(lw=new Ot(hJ)),lw))()){this.value=t,this.children=n}static fromObject(t){let n=new ve(null);return qe(t,(r,i)=>{n=n.set(new se(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:te(),value:this.value};if(W(t))return null;{const r=z(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(fe(t),n);return null!=o?{path:Ce(new se(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{const n=z(t),r=this.children.get(n);return null!==r?r.subtree(fe(t)):new ve(null)}}set(t,n){if(W(t))return new ve(n,this.children);{const r=z(t),o=(this.children.get(r)||new ve(null)).set(fe(t),n),s=this.children.insert(r,o);return new ve(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=z(t),r=this.children.get(n);if(r){const i=r.remove(fe(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ve(null):new ve(this.value,o)}return this}}get(t){if(W(t))return this.value;{const n=z(t),r=this.children.get(n);return r?r.get(fe(t)):null}}setTree(t,n){if(W(t))return n;{const r=z(t),o=(this.children.get(r)||new ve(null)).setTree(fe(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ve(this.value,s)}}fold(t){return this.fold_(te(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ce(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(W(t))return null;{const o=z(t),s=this.children.get(o);return s?s.findOnPath_(fe(t),Ce(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,r){if(W(t))return this;{this.value&&r(n,this.value);const i=z(t),o=this.children.get(i);return o?o.foreachOnPath_(fe(t),Ce(n,i),r):new ve(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ce(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new ve(null))}}function Lc(e,t,n){if(W(t))return new vn(new ve(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Dt(i,t);return o=o.updateChild(s,n),new vn(e.writeTree_.set(i,o))}{const i=new ve(n),o=e.writeTree_.setTree(t,i);return new vn(o)}}}function dw(e,t,n){let r=e;return qe(n,(i,o)=>{r=Lc(r,Ce(t,i),o)}),r}function _k(e,t){if(W(t))return vn.empty();{const n=e.writeTree_.setTree(t,new ve(null));return new vn(n)}}function fw(e,t){return null!=Zi(e,t)}function Zi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Dt(n.path,t)):null}function yk(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ye,(r,i)=>{t.push(new q(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new q(r,i.value))}),t}function ei(e,t){if(W(t))return e;{const n=Zi(e,t);return new vn(null!=n?new ve(n):e.writeTree_.subtree(t))}}function hw(e){return e.writeTree_.isEmpty()}function Rs(e,t){return vk(te(),e.writeTree_,t)}function vk(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(C(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=vk(Ce(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Ce(e,".priority"),r)),n}}function ff(e,t){return Dk(t,e)}function OX(e,t){if(e.snap)return nn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&nn(Ce(e.path,n),t))return!0;return!1}function FX(e){return e.visible}function Ik(e,t,n){let r=vn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)nn(n,s)?(a=Dt(n,s),r=Lc(r,a,o.snap)):nn(s,n)&&(a=Dt(s,n),r=Lc(r,te(),o.snap.getChild(a)));else{if(!o.children)throw us("WriteRecord should have .snap or .children");if(nn(n,s))a=Dt(n,s),r=dw(r,a,o.children);else if(nn(s,n))if(a=Dt(s,n),W(a))r=dw(r,te(),o.children);else{const c=ds(o.children,z(a));if(c){const u=c.getChild(fe(a));r=Lc(r,te(),u)}}}}}return r}function Ek(e,t,n,r,i){if(r||i){const o=ei(e.visibleWrites,t);return!i&&hw(o)?n:i||null!=n||fw(o,te())?Rs(Ik(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(nn(u.path,t)||nn(t,u.path))},t),n||V.EMPTY_NODE):null}{const o=Zi(e.visibleWrites,t);if(null!=o)return o;{const s=ei(e.visibleWrites,t);return hw(s)?n:null!=n||fw(s,te())?Rs(s,n||V.EMPTY_NODE):null}}}function hf(e,t,n,r){return Ek(e.writeTree,e.treePath,t,n,r)}function pw(e,t){return function UX(e,t,n){let r=V.EMPTY_NODE;const i=Zi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ye,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ei(e.visibleWrites,t);return n.forEachChild(ye,(s,a)=>{const c=Rs(ei(o,new se(s)),a);r=r.updateImmediateChild(s,c)}),yk(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return yk(ei(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function wk(e,t,n,r){return function jX(e,t,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Ce(t,n);if(fw(e.visibleWrites,o))return null;{const s=ei(e.visibleWrites,o);return hw(s)?i.getChild(n):Rs(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function pf(e,t){return function BX(e,t){return Zi(e.visibleWrites,t)}(e.writeTree,Ce(e.treePath,t))}function gw(e,t,n){return function $X(e,t,n,r){const i=Ce(t,n),o=Zi(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Rs(ei(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ck(e,t){return Dk(Ce(e.treePath,t),e.writeTree)}function Dk(e,t){return{treePath:e,writeTree:t}}class WX{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;C("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),C(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Nc(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function Rc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function Ss(e,t){return{type:"child_added",snapshotNode:t,childName:e}}(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw us("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Nc(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const bk=new class GX{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class mw{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gw(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qi(this.viewCache_),o=function zX(e,t,n,r,i,o){return function VX(e,t,n,r,i,o,s){let a;const c=ei(e.visibleWrites,t),u=Zi(c,te());if(null!=u)a=u;else{if(null==n)return[];a=Rs(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=f.getNext();for(;h&&l.length<i;)0!==d(h,r)&&l.push(h),h=f.getNext();return l}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function Tk(e,t,n,r,i,o){const s=t.eventCache;if(null!=pf(r,n))return t;{let a,c;if(W(n))if(C(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Qi(t),d=pw(r,u instanceof V?u:V.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=hf(r,Qi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=z(n);if(".priority"===u){C(1===Jr(n),"Can't have a priority with additional path components");const l=s.getNode();c=t.serverCache.getNode();const d=wk(r,n,l,c);a=null!=d?e.filter.updatePriority(l,d):s.getNode()}else{const l=fe(n);let d;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const f=wk(r,n,s.getNode(),c);d=null!=f?s.getNode().getImmediateChild(u).updateChild(l,f):s.getNode().getImmediateChild(u)}else d=gw(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,l,i,o):s.getNode()}}return Oc(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function gf(e,t,n,r,i,o,s,a){const c=t.serverCache;let u;const l=s?e.filter:e.filter.getIndexedFilter();if(W(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){const h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{const h=z(n);if(!c.isCompleteForPath(n)&&Jr(n)>1)return t;const p=fe(n),y=c.getNode().getImmediateChild(h).updateChild(p,r);u=".priority"===h?l.updatePriority(c.getNode(),y):l.updateChild(c.getNode(),h,y,p,bk,null)}const d=mk(t,u,c.isFullyInitialized()||W(n),l.filtersNodes());return Tk(e,d,n,i,new mw(i,d,o),a)}function _w(e,t,n,r,i,o,s){const a=t.eventCache;let c,u;const l=new mw(i,t,o);if(W(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Oc(t,u,!0,e.filter.filtersNodes());else{const d=z(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),c=Oc(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=fe(n),h=a.getNode().getImmediateChild(d);let p;if(W(f))p=r;else{const m=l.getCompleteChild(d);p=null!=m?".priority"===qE(f)&&m.getChild(nk(f)).isEmpty()?m:m.updateChild(f,r):V.EMPTY_NODE}c=h.equals(p)?t:Oc(t,e.filter.updateChild(a.getNode(),d,p,f,l,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function Sk(e,t){return e.eventCache.isCompleteForChild(t)}function Ak(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function yw(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,c=t;u=W(n)?r:new ve(null).setTree(n,r);const l=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(l.hasChild(d)){const p=Ak(0,t.serverCache.getNode().getImmediateChild(d),f);c=gf(e,c,new se(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&null===f.value;if(!l.hasChild(d)&&!h){const m=Ak(0,t.serverCache.getNode().getImmediateChild(d),f);c=gf(e,c,new se(d),m,i,o,s,a)}}),c}function iee(e,t){const n=Qi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(z(t)).isEmpty())?n.getChild(t):null}function Nk(e,t,n,r){t.type===zn.MERGE&&null!==t.source.queryId&&(C(Qi(e.viewCache_),"We should always have a full cache before handling merges"),C(df(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function YX(e,t,n,r,i){const o=new WX;let s,a;if(n.type===zn.OVERWRITE){const u=n;u.source.fromUser?s=_w(e,t,u.path,u.snap,r,i,o):(C(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!W(u.path),s=gf(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===zn.MERGE){const u=n;u.source.fromUser?s=function ZX(e,t,n,r,i,o,s){let a=t;return r.foreach((c,u)=>{const l=Ce(n,c);Sk(t,z(l))&&(a=_w(e,a,l,u,i,o,s))}),r.foreach((c,u)=>{const l=Ce(n,c);Sk(t,z(l))||(a=_w(e,a,l,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(C(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=yw(e,t,u.path,u.children,r,i,a,o))}else if(n.type===zn.ACK_USER_WRITE){const u=n;s=u.revert?function eee(e,t,n,r,i,o){let s;if(null!=pf(r,n))return t;{const a=new mw(r,t,i),c=t.eventCache.getNode();let u;if(W(n)||".priority"===z(n)){let l;if(t.serverCache.isFullyInitialized())l=hf(r,Qi(t));else{const d=t.serverCache.getNode();C(d instanceof V,"serverChildren would be complete if leaf node"),l=pw(r,d)}u=e.filter.updateFullNode(c,l,o)}else{const l=z(n);let d=gw(r,l,t.serverCache);null==d&&t.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),u=null!=d?e.filter.updateChild(c,l,d,fe(n),a,o):t.eventCache.getNode().hasChild(l)?e.filter.updateChild(c,l,V.EMPTY_NODE,fe(n),a,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=hf(r,Qi(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=pf(r,te()),Oc(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function JX(e,t,n,r,i,o,s){if(null!=pf(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return gf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let u=new ve(null);return c.getNode().forEachChild(Hn,(l,d)=>{u=u.set(new se(l),d)}),yw(e,t,n,u,i,o,a,s)}return t}{let u=new ve(null);return r.foreach((l,d)=>{const f=Ce(n,l);c.isCompleteForPath(f)&&(u=u.set(l,c.getNode().getChild(f)))}),yw(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==zn.LISTEN_COMPLETE)throw us("Unknown operation type: "+n.type);s=function XX(e,t,n,r,i){const o=t.serverCache;return Tk(e,mk(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered()),n,r,bk,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function QX(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=df(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function fk(e){return{type:"value",snapshotNode:e}}(df(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function KX(e,t){C(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),C(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,function Pk(e,t,n,r){return function SX(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function hX(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),kc(e,i,"child_removed",t,r,n),kc(e,i,"child_added",t,r,n),kc(e,i,"child_moved",o,r,n),kc(e,i,"child_changed",t,r,n),kc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}(e,o.changes,o.viewCache.eventCache.getNode(),null)}let mf,yf;function vw(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return C(null!=o,"SyncTree gave us an op for an invalid query."),Nk(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(Nk(s,t,n,r));return o}}function ti(e,t){let n=null;for(const r of e.views.values())n=n||iee(r,t);return n}class Uk{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ve(null),this.pendingWriteTree_=function HX(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iw(e,t,n,r,i){return function NX(e,t,n,r,i){C(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Lc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ns(e,new Yi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ri(e,t,n=!1){const r=function xX(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function kX(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);C(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&OX(a,r.path)?i=!1:nn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function LX(e){e.visibleWrites=Ik(e.allWrites,FX,te()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=_k(e.visibleWrites,r.path):qe(r.children,c=>{e.visibleWrites=_k(e.visibleWrites,Ce(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new ve(null);return null!=r.snap?o=o.set(te(),!0):qe(r.children,s=>{o=o.set(new se(s),!0)}),Ns(e,new uf(r.path,o,n))}return[]}function Fc(e,t,n){return Ns(e,new Yi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function If(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=ti(a,Dt(s,t));if(u)return u});return Ek(i,t,o,n,!0)}function Ns(e,t){return $k(t,e.syncPointTree_,null,ff(e.pendingWriteTree_,te()))}function $k(e,t,n,r){if(W(e.path))return Bk(e,t,n,r);{const i=t.get(te());null==n&&null!=i&&(n=ti(i,te()));let o=[];const s=z(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const u=n?n.getImmediateChild(s):null,l=Ck(r,s);o=o.concat($k(a,c,u,l))}return i&&(o=o.concat(vw(i,e,r,n))),o}}function Bk(e,t,n,r){const i=t.get(te());null==n&&null!=i&&(n=ti(i,te()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,u=Ck(r,s),l=e.operationForChild(s);l&&(o=o.concat(Bk(l,a,c,u)))}),i&&(o=o.concat(vw(i,e,r,n))),o}function ww(e,t){return e.tagToQueryMap.get(t)}function Cw(e){const t=e.indexOf("$");return C(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new se(e.substr(0,t))}}function Dw(e,t,n){const r=e.syncPointTree_.get(t);return C(r,"Missing sync point for query tag that we're tracking"),vw(r,n,ff(e.pendingWriteTree_,t),null)}class bw{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new bw(n)}node(){return this.node_}}class Tw{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ce(this.path_,t);return new Tw(this.syncTree_,n)}node(){return If(this.syncTree_,this.path_)}}const bee=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Hk=function(e,t,n){return e&&"object"==typeof e?(C(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Tee(e[".sv"],t,n):"object"==typeof e[".sv"]?See(e[".sv"],t):void C(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tee=function(e,t,n){if("timestamp"===e)return n.timestamp;C(!1,"Unexpected server value: "+e)},See=function(e,t,n){e.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&C(!1,"Unexpected increment value: "+r);const i=t.node();if(C(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},zk=function(e,t,n,r){return Aw(t,new Tw(n,e),r)},Sw=function(e,t,n){return Aw(e,new bw(t),n)};function Aw(e,t,n){const r=e.getPriority().val(),i=Hk(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=Hk(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new bs(a,Te(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new bs(i))),s.forEachChild(ye,(a,c)=>{const u=Aw(c,t.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}class Mw{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function wf(e,t){let n=t instanceof se?t:new se(t),r=e,i=z(n);for(;null!==i;){const o=ds(r.node.children,i)||{children:{},childCount:0};r=new Mw(i,r,o),n=fe(n),i=z(n)}return r}function Ji(e){return e.node.value}function Rw(e,t){e.node.value=t,Nw(e)}function Wk(e){return e.node.childCount>0}function Cf(e,t){qe(e.node.children,(n,r)=>{t(new Mw(n,e,r))})}function Gk(e,t,n,r){n&&!r&&t(e),Cf(e,i=>{Gk(i,t,!0,r)}),n&&r&&t(e)}function $c(e){return new se(null===e.parent?e.name:$c(e.parent)+"/"+e.name)}function Nw(e){null!==e.parent&&function Ree(e,t,n){const r=function Aee(e){return void 0===Ji(e)&&!Wk(e)}(n),i=fr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nw(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Nw(e))}(e.parent,e.name,e)}const Nee=/[\[\].#$\/\u0000-\u001F\u007F]/,Pee=/[\[\].#$\u0000-\u001F\u007F]/,Pw=10485760,Df=function(e){return"string"==typeof e&&0!==e.length&&!Nee.test(e)},Vc=function(e,t,n){const r=n instanceof se?new YJ(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+qi(r));if("function"==typeof t)throw new Error(e+"contains a function "+qi(r)+" with contents = "+t.toString());if(Qd(t))throw new Error(e+"contains "+t.toString()+" "+qi(r));if("string"==typeof t&&t.length>Pw/3&&gd(t)>Pw)throw new Error(e+"contains a string greater than "+Pw+" utf8 bytes "+qi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(qe(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Df(s)))throw new Error(e+" contains an invalid key ("+s+") "+qi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QJ(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=gd(t),rk(e)})(r,s),Vc(e,a,r),function ZJ(e){const t=e.parts_.pop();e.byteLength_-=gd(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+qi(r)+" in addition to actual children.")}},Yk=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Df(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),function(e){return"string"==typeof e&&0!==e.length&&!Pee.test(e)}(e)}(n))throw new Error(function pd(e,t){return`${e} failed: ${t} argument `}(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Lee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vt(e,t,n){(function bf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!KE(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)})(e,n),function Zk(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Fee(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>nn(r,t)||nn(t,r))}function Fee(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Wi&&Ge("event: "+n.toString()),Cs(r)}}}const Uee=25;class jee{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cf(),this.transactionQueueTree_=new Mw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xk(e){const n=e.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function zc(e){return bee({timestamp:Xk(e)})}function eO(e,t,n,r,i){e.dataUpdateCount++;const o=new se(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=fd(n,u=>Te(u));s=function vee(e,t,n,r){const i=ww(e,r);if(i){const o=Cw(i),s=o.path,a=o.queryId,c=Dt(s,t),u=ve.fromObject(n);return Dw(e,s,new Ms(uw(a),c,u))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=Te(n);s=function jk(e,t,n,r){const i=ww(e,r);if(null!=i){const o=Cw(i),s=o.path,a=o.queryId,c=Dt(s,t);return Dw(e,s,new Yi(uw(a),c,n))}return[]}(e.serverSyncTree_,o,c,i)}else if(r){const c=fd(n,u=>Te(u));s=function mee(e,t,n){const r=ve.fromObject(n);return Ns(e,new Ms({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=Te(n);s=Fc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=xs(e,o)),Vt(e.eventQueue_,a,s)}function tO(e,t){Ow(e,"connected",t),!1===t&&function zee(e){Ps(e,"onDisconnectEvents");const t=zc(e),n=cf();sw(e.onDisconnect_,te(),(i,o)=>{const s=zk(i,o,e.serverSyncTree_,t);As(n,i,s)});let r=[];sw(n,te(),(i,o)=>{r=r.concat(Fc(e.serverSyncTree_,i,o));const s=function jw(e,t){const n=$c(iO(e,t)),r=wf(e.transactionQueueTree_,t);return function Mee(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{$w(e,i)}),$w(e,r),Gk(r,i=>{$w(e,i)}),n}(e,i);xs(e,s)}),e.onDisconnect_=cf(),Vt(e.eventQueue_,te(),r)}(e)}function Ow(e,t,n){const r=new se("/.info/"+t),i=Te(n);e.infoData_.updateSnapshot(r,i);const o=Fc(e.infoSyncTree_,r,i);Vt(e.eventQueue_,r,o)}function Tf(e){return e.nextWriteId_++}function Ps(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ge(n,...t)}function Uw(e,t,n){return If(e.serverSyncTree_,t,n)||V.EMPTY_NODE}function Sf(e,t=e.transactionQueueTree_){if(t||Af(e,t),Ji(t)){const n=oO(e,t);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Zee(e,t,n){const r=n.map(u=>u.currentWriteId),i=Uw(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const l=n[u];C(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=Dt(t,l.path);o=o.updateChild(d,l.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,u=>{Ps(e,"transaction put response",{path:c.toString(),status:u});let l=[];if("ok"===u){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,l=l.concat(ri(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Af(e,wf(e.transactionQueueTree_,t)),Sf(e,e.transactionQueueTree_),Vt(e.eventQueue_,t,l);for(let f=0;f<d.length;f++)Cs(d[f])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{ut("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}xs(e,t)}},s)}(e,$c(t),n)}else Wk(t)&&Cf(t,n=>{Sf(e,n)})}function xs(e,t){const n=iO(e,t),r=$c(n);return function Jee(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],u=Dt(n,c.path);let d,l=!1;if(C(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)l=!0,d=c.abortReason,i=i.concat(ri(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Uee)l=!0,d="maxretry",i=i.concat(ri(e.serverSyncTree_,c.currentWriteId,!0));else{const f=Uw(e,c.path,s);c.currentInputSnapshot=f;const h=t[a].update(f.val());if(void 0!==h){Vc("transaction failed: Data returned ",h,c.path);let p=Te(h);"object"==typeof h&&null!=h&&fr(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=c.currentWriteId,v=zc(e),_=Sw(p,f,v);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=_,c.currentWriteId=Tf(e),s.splice(s.indexOf(y),1),i=i.concat(Iw(e.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),i=i.concat(ri(e.serverSyncTree_,y,!0))}else l=!0,d="nodata",i=i.concat(ri(e.serverSyncTree_,c.currentWriteId,!0))}Vt(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Af(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Cs(r[a]);Sf(e,e.transactionQueueTree_)}(e,oO(e,n),r),r}function iO(e,t){let n,r=e.transactionQueueTree_;for(n=z(t);null!==n&&void 0===Ji(r);)r=wf(r,n),n=z(t=fe(t));return r}function oO(e,t){const n=[];return sO(e,t,n),n.sort((r,i)=>r.order-i.order),n}function sO(e,t,n){const r=Ji(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cf(t,i=>{sO(e,i,n)})}function Af(e,t){const n=Ji(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Rw(t,n.length>0?n:void 0)}Cf(t,r=>{Af(e,r)})}function $w(e,t){const n=Ji(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ri(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Rw(t,void 0):n.length=o+1,Vt(e.eventQueue_,$c(t),i);for(let s=0;s<r.length;s++)Cs(r[s])}}const Bw=function(e,t){const n=tte(e),r=n.namespace;return"firebase.com"===n.domain&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new se(n.pathString)}},tte=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let l=e.indexOf("/");-1===l&&(l=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(l,d)),l<d&&(i=function Xee(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(l,d)));const f=function ete(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ut(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Ht{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:qE(this._path)}get ref(){return new In(this._repo,this._path)}get _queryIdentifier(){const t=pk(this._queryParams),n=jE(t);return"{}"===n?"default":n}get _queryObject(){return pk(this._queryParams)}isEqual(t){if(!((t=Fn(t))instanceof Ht))return!1;const n=this._repo===t._repo,r=KE(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function qJ(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class In extends Ht{constructor(t,n){super(t,n,new nw,!1)}get parent(){const t=nk(this._path);return null===t?null:new In(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function aee(e){C(!mf,"__referenceConstructor has already been defined"),mf=e})(In),function fee(e){C(!yf,"__referenceConstructor has already been defined"),yf=e}(In);const Hw={};class Ete{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $ee(e,t,n){if(e.stats_=zE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new af(e.repoInfo_,(r,i,o,s)=>{eO(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>tO(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ki(e.repoInfo_,t,(r,i,o,s)=>{eO(e,r,i,o,s)},r=>{tO(e,r)},r=>{!function Bee(e,t){qe(t,(n,r)=>{Ow(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function bJ(e,t){const n=e.toString();return HE[n]||(HE[n]=t()),HE[n]}(e.repoInfo_,()=>new bX(e.stats_,e.server_)),e.infoData_=new IX,e.infoSyncTree_=new Uk({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Fc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ow(e,"connected",!1),e.serverSyncTree_=new Uk({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const u=s(a,c);Vt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new In(this._repo,te())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yte(e,t){const n=Hw[t];(!n||n[e.key]!==e)&&Vn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function rO(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Vn("Cannot call "+t+" on a deleted database.")}}function wte(e=e_(),t){const n=hs(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=y1("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function Cte(e,t,n,r={}){(e=Fn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new bc(bc.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function UW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cd(JSON.stringify({alg:"none",type:"JWT"})),cd(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new bc(s)}!function mte(e,t,n,r){e.repoInfo_=new BE(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}Ki.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ki.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function Dte(e){(function cJ(e){LE=e})(ki),wt(new ct("database",(t,{instanceIdentifier:n})=>function _te(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,u,s=Bw(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=Bw(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const l=i&&c?new bc(bc.OWNER):new wJ(e.name,e.options,t);Yk("Invalid Firebase Database URL",s),W(s.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function vte(e,t,n,r){let i=Hw[t.name];i||(i={},Hw[t.name]=i);let o=i[e.toURLString()];return o&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new jee(e,!1,n,r),i[e.toURLString()]=o,o}(a,e,l,new EJ(e.name,n));return new Ete(d,e)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Me(yx,"0.14.4",e),Me(yx,"0.14.4","esm2017")}();class zw{constructor(t){return t}}const gO="database",Ww=new M("angularfire2.database-instances");function Mte(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new zw(r)}}const Rte={provide:class Ste{constructor(){return nv(gO)}},deps:[[new mt,Ww]]},Nte={provide:zw,useFactory:function Ate(e,t){const n=tv(gO,e,t);return n&&new zw(n)},deps:[[new mt,Ww],_s]};let Pte=(()=>{class e{constructor(){Me("angularfire",bd.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=sn({providers:[Nte,Rte]}),e})();function xte(e,...t){return{ngModule:Pte,providers:[{provide:Ww,useFactory:Mte(e),multi:!0,deps:[oe,_t,rv,ov,[new mt,_x],[new mt,Sv],...t]}]}}const kte=iv(wte,!0);let Ote=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Dn({type:e,bootstrap:[AW]});static#n=this.\u0275inj=sn({imports:[P5,EW,DK(()=>bK(TK_firebase)),sJ(()=>aJ()),xte(()=>kte())]})}return e})();R5().bootstrapModule(Ote).catch(e=>console.error(e))}},le=>{le(le.s=733)}]);